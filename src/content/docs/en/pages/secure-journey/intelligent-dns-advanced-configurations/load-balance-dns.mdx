---
title: How to perform a load balance between DNS records
description: 
meta_tags: dns, intelligent dns, load balance, records
namespace: docs_secure_load_balance_dns
menu_namespace: secureMenu
permalink: /documentation/products/guides/secure/load-balance-dns/
---

import ContributorList from '~/components/ContributorList.astro'

You can use a [Intelligent DNS zone](/en/documentation/products/secure/intelligent-dns/) to create more than one record and perform a DNS load balance. Assigning different weights to each record for a same zone helps distribute incoming network traffic, ensuring optimal resource utilization and preventing overload on a single server.

In this guide, you'll learn an example using a record type `A`, which accepts values of IPv4 address format.

---

## Via RTM

1. [Access RTM](/en/documentation/products/guides/how-to-access-rtm/) > **Intelligent DNS**.
2. From the list, choose the zone in which you want to add records. Or, [create a zone](/en/documentation/products/guides/secure/intelligent-dns-configure-main-settings/#creating-a-new-zone).
3. Select the **Records** tab.
4. Click the **Add Record** button.
5. In **Name**, provide the new record's name. Example: `load balance dns record`.
6. In **Type**, select the type of record `A`.
7. In **Value**, add the items for the DNS response to the registered record in IPv4 address format. Example: `192.111.0.1`.
8. In **TTL (seconds)**, choose the time, in seconds, a response can be cached for on a resolver server. Maximum value: `2147483647`.
9. In **Policy**, select **Weighted**.
    - In **Weight**, specify the weight for the record, considering that you'll create other records for the same zone with different weights. Accepts values from `0` to `255`.
    - In **Description** (optional), you can describe, for example, the distinction between records with the same **Name** and **Type**. Accepts up to *45 characters*.
10. Click the **Save** button.
11. Repeat steps 4 to 10 as many times as you want, but changing the **Weight** field. Optionally, you can choose different values for the **Name** and **Description** fields.

If you add 3 records, you can, for example, specify a weight of **50** for the first record, **20** for the second record, and **30** for the third record.

---

## Via API

1. Run the following `GET` request in your terminal, replacing `[TOKEN VALUE]` with your [personal token](/en/documentation/products/guides/personal-tokens/) to retrieve your `<hosted_zone_id>`:

```bash
curl --location 'https://api.azionapi.net/intelligent_dns' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Accept: application/json; version=3'
```

2. You'll receive a response with all your existing edge firewalls. Copy the value of the `<id>` that you want to use.
3. Run the following `POST` request, replacing `[TOKEN VALUE]` with your [personal token](/en/documentation/products/guides/personal-tokens/) and the `<hosted_zone_id>` value you copied:

```bash
curl --location 'https://api.azionapi.net/intelligent_dns/<hosted_zone_id>/records' \
--header 'Content-Type: application/json' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Accept: application/json; version=3' \
--data-raw '{
    "record_type": "CNAME",
    "entry": "www",
    "answers_list": [
        "www.mydomain.com"
    ],
    "ttl": 20,
    "description": "description"
}'
```

4. You'll receive a response similar to this:

```json
{
  "results": {
    "answers_list": [
      "www.mydomain.com"
    ],
    "zone_id": 1234,
    "record_type": "CNAME",
    "ttl": 20,
    "policy": "simple",
    "entry": "www",
    "id": 12345,
    "description": "description"
  },
  "schema_version": 3
}
```

Wait a few minutes for the changes to propagate and your records will be created in the hosted zone you chose.

:::tip
Check the [Azion API documentation](https://api.azion.com/) and the [OpenAPI specification](https://github.com/aziontech/azionapi-openapi/) to know more about what the Azion API can offer.
:::
<br /><br />
---

**Contributors** <ContributorList>Contributor</ContributorList>
