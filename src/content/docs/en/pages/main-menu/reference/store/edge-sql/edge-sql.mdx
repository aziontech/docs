---
title: Edge SQL
description: Explore  Edge SQL, a distributed database solution by Azion. Learn to manage databases, run queries, and ensure data resilience effortlessly.
meta_tags: edge sql, sql, database, distributed, queries
namespace: docs_edge_sql
permalink: /documentation/products/store/edge-sql/
---

import Badge from '~/components/Badge.astro'
import Button from '~/components/Button.astro'

<Badge variant="accent">
  Preview
</Badge>

**Edge SQL** is a Store product that allows you to create and manage distributed database services with low latency. Fully ACID-compliant, Edge SQL is built on top of a database powered by libSQL and works while being replicated across Azion edge nodes. A database created on Edge SQL is stored in two types of instances: a **main** instance and its **replicas**.

With Edge SQL, you can:

- Store real-time telemetry data, ideal for IoT.
- Manage inventory of distributed e-commerce/retail distribution centers.
- Store and analyze access logs, quickly identifying and mitigating security attacks.
- Store and manage access data.

There are two ways to build a database through Edge SQL: using the Edge SQL REST API or writing an edge function. The REST API allows you create, read, update, delete, and list databases. An edge function allows you to write on a database.

### Implementation

| Scope | Resource |
| ----- | -------- |
| Manage databases with REST API | []() |
| Create queries | []() |
| Write on a database with an edge function | []() |

---

## Business rules

Writing databases, through REST API or edge function, is only possible in the [main instance](#main-instance). All [replicas](#replicas) are read-only.

:::caution[warning]
Once you delete a main instance, this action can't be undone. You'll still be able to read the replicas, but won't be able to write on them.
:::

During the creation of a database, especially your first one, there's a propagation time for it to be created on the edge nodes. Your `POST` request response will exhibit a `creating` state, and you can run `GET` requests to check once it's created.

You can also use a JavaScript edge function to query and analyze if the snapshots have been merged into replicas.

<Button href="guidelink" text="go to analyze snapshots guide" variant="secondary"></Button>

:::note
if you receive a `creation_failed` state, try creating the database again or contact the [support team](/en/documentation/services/support/#service-channels) to check.
:::

---

## Data resilience

With a distributed architecture running across Azion edge nodes, Edge SQL guarantees data is kept safe and available. Your data is created in a main instance and propagated through replicas across Azion edge nodes.

---

## Databases

A database is a set of structured tables that allow to write and read data in SQL language. Organized in columns and rows, users are able to add data logically, with columns representing specific information in the vertical axis, while rows represent individual entry data, related to a column, in the horizontal axis.

[Creating a database](guidelink) is the first step to use Edge SQL and add data:

```bash
curl --location 'https://stage-edge-sql-api.azion.net/edge-sql/api/databases' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Content-Type: application/json' \
--data '{
   "name": "my-database"
}'
```

<Button href="apilink" text="create a database with Azion API" variant="secondary"></Button>
<br> </br>

<Button href="guidelink" text="create a database with edge functions" variant="secondary"></Button>

### Query

A query is how you structure your table or a search on rows on a previously created database. It's possible to query based on relations and constraints.

For example, to create a table via cURL:

```bash
curl --location 'https://stage-edge-sql-api.azion.net/edge-sql/api/databases/{id_database}/query' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Content-Type: application/json' \
--data '{
    "statements": [
        "CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT NOT NULL);"
    ]
}'
```

To query data on the already create table:

```bash
curl --location 'https://stage-edge-sql-api.azion.net/edge-sql/api/databases/{id_database}/query' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Content-Type: application/json' \
--data '{
    "statements": [
        "SELECT * FROM users;"
    ]
}'
```

<Button href="apilink" text="create a query with Azion API" variant="secondary"></Button>
<br> </br>

<Button href="guidelink" text="go to create a query guide" variant="secondary"></Button>

---

## Instances

### Main instance

The primary storage instance, it receives all *write* commands and synchronizes the received data with the replicas.

All databases](#databases) are created and all [queries](#query) are written on the main instance. After the automatic process handled by Azion, your data is processed on edge locations, snapshots are created, and merged into replicas.

:::caution[warning]
It's recommended to always create a backup of your [main instance](#main-instance) to guarantee your data is safe. As there's a propagation time which differs for the replicas, it's best to backup the main rather than the replicas.
:::

### Replicas

Replicas are *read-only* copies of the main instance. Replicas are updated within different propagation time, so they'll eventually be in sync in the main instance, but it doesn't occur instantly.

The replication process occurs automatically through Azion back-end systems, in which snapshots are created and then merged in each replica.

They handle data storage, processing, and management in proximity to the devices reading the data, helping with data distribution, availability, and low latency.

---

## Supported query languages

As Azion **Edge SQL** is based on SQLite, it supports the same SQL languages SQLite does.

[See SQL languages understood](https://www.sqlite.org/lang.html) to create queries.

---

## Features not supported



---

## Limits

:::tip
**Increase limits** <br></br>
You can request to increase the limits based on your plan. Contact the [technical support team](/en/documentation/services/support/) to request it.
:::

These are the **default limits**:

| Scope | Limit | 
| ----- | ----- | 
| Maximum number of columns per table | 100 |
| Maximum SQL query duration | 30 seconds |

These are the **default limits** for each Service Plan:

| Scope | Developer | Business | Enterprise | Mission Critical |
| ----- | --------- | -------- | ---------- | ---------------- |
| Databases | 10 | 50 | 200 | 200 |
| Maximum database size | 200 MB | 500 MB | 2 GB | 2 GB |
| Maximum storage per account | 5 GB | 50 GB | 300 GB | 300 GB |



---

import ContributorList from '~/components/ContributorList.astro'

**Contributors** <ContributorList>Contributor</ContributorList>