---
title: How to configure Workloads
description: >-
  Use Azion Workloads to enable access to your app, allowing user traffic
  and metrics tracking.
meta_tags: 'Workloads, edge computing, edge network, custom domain'
namespace: docs_guides_configure_workload
permalink: /documentation/products/guides/configure-a-workload/
---

import Tabs from '~/components/tabs/Tabs'


With Azion, you can create and run applications directly on the edge. To allow access to your application through the browser and start receiving users and monitoring metrics, you need to configure an [Workload](/en/documentation/products/secure/workloads/).

Azion provides a Workload address in the format `xxxxxxxxxx.map.azionedge.net`. You can use it for access or if you already own a domain, you can [redirect your traffic to Azion](/en/documentation/products/guides/point-domain-to-azion/) by configuring the records in your DNS provider and listing your **custom domains**. You can also create an `Azion Custom Domain`, letting you set up a custom domain for your application using the format `example.azion.app` to personalize your application address with an user friendly URL. 

---

## Creating a Workload

<Tabs client:visible>
    <Fragment slot="tab.console">Console</Fragment>
    <Fragment slot="tab.api">API</Fragment>

<Fragment slot="panel.console">

When you create an application [using a template](/en/documentation/products/start-with-a-template/), your application is automatically associated with an Azion Workload. 

To create a Workload:

1. Access [Azion Console](/en/documentation/products/guides/how-to-access-azion-console/) > **Workloads**.
2. Click the **+ Workload** button.
3. Give your Workload a name.
4. Select the **Infrastructure** for your Workload: **Production Infrastructure** or **Staging Infrastructure** (test environment).
5. Define your application hostnames in the **Subdomain** and **Domain** fields. You can use [custom domain](#linking-a-custom-domain-to-your-application) addresses to link to your application.
6. In **Edge Application**, select your Edge Application.
7. In **Edge Firewall**, select your Edge Firewall.
8. In **Digital Certificate**, select, create a new, or use the Azion SAN certificate if you're aiming to use the Azion Custom Domain or the Workload Domain.
9. Click the **Save** button.

Wait a few minutes for your new Workload to propagate and access your `xxxxxxxxxx.map.azionedge.net` address to see your Edge Application online.
</Fragment>

<Fragment slot="panel.api">
1. Run the following `POST` request in your terminal, replacing `[TOKEN VALUE]` with your [personal token](/en/documentation/products/guides/personal-tokens/).

```bash
curl --location 'https://api.azionapi.net/domains' \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]'\
--header 'Content-Type: application/json' \
--data '{
    "name": "Example CN0 DC0",
    "cname_access_only": false,
    "digital_certificate_id": null,
    "edge_application_id": <edge_application_id>
}'
```

<Code lang="bash" code={`{curl --request POST \
  --url https://api.azion.com/v4/workspace/workloads \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]]' \
  --header 'Content-Type: application/json' \
  --data '{
  "name": "Example CN0 DC0",
  "active": true,
  "infrastructure": 1,
  "protocols": {
    "http": {
      "versions": [
        "http1",
        "http2"
      ]
    }
  },
  "workload_domain_allow_access": true
  }
}' />


  | Key | Description |
  | --- | --- |
  | `name` | Sets the string in value as a name of the domain entry with Azion. You may modify this value to fit your needs, since it does not represent a domain address. |
  | `workload_domain_allow_access` | When set to `true`, enables access via the `xxxxxxxxxx.map.azionedge.net` Azion address. |
  | `infrastructure` | Infrastructure for your Workload: **Production Infrastructure** (1) or **Staging Infrastructure** (2) |
  | `digital_certificate_id` | When `null`, selects the **Azion SAN** certificate. You can also [associate a digital certificate](/en/documentation/products/guides/create-a-digital-certificate/#via-api) to your Workload. |

2. You'll receive a response similar to:

<Code lang="json" code={`{
  "state": "pending",
  "data": {
    "id": <workload_id>,
    "name": "Example CN0 DC0",
    "active": true,
    "last_editor": "education@azion.com",
    "last_modified": "2025-07-25T18:58:25.817955Z",
    "infrastructure": 1,
    "tls": {
      "certificate": null,
      "ciphers": 7,
      "minimum_version": "tls_1_3"
    },
    "protocols": {
      "http": {
        "versions": [
          "http1",
          "http2"
        ],
        "http_ports": [
          80
        ],
        "https_ports": [
          443
        ],
        "quic_ports": null
      }
    },
    "mtls": {
      "verification": null,
      "certificate": null,
      "crl": null
    },
    "domains": [],
    "workload_domain_allow_access": true,
    "workload_domain": "xxxxxxxxxxx.azionedge.net",
    "product_version": "1.0"
  }
}' />

3. Copy the URL in the `workload_domain` value and paste it in a text editing app to access later. 

4. Now you must bind the created **Workload** to an **Edge Application**. This is done by creating a Workload Deployment. Run the following `POST` request in your terminal, replacing `[TOKEN VALUE]` with your [personal token](/en/documentation/products/guides/personal-tokens/), `<edge_application_id>` with the ID of the desired Edge Application and <workload_id> with the ID of the Workload you created on the previous step.

<Code lang="bash" code={`{curl --request POST \
  --url https://api.azion.com/v4/workspace/workloads/<workload_id>/deployments \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]]' \
  --header 'Content-Type: application/json' \
  --data '{
  "name": "My Workload Deployment",
  "current": true,
  "active": true,
  "strategy": {
    "type": "default",
    "attributes": {
      "edge_application": <edge_application_id>
    }
  }
}' />

5. The  `workload_domain` received in the response carries your application's Azion domain address as a string. Wait a few minutes for the changes to propagate and paste its value without the double quotes (`"`) in your browser to access your application.


:::tip
Check the [Azion API documentation](https://api.azion.com/v4#) and the [OpenAPI specification](https://github.com/aziontech/azionapi-openapi/) to know more about all features available via API.
:::
</Fragment>

</Tabs>

---

## Linking a custom domain to your application

In addition to the default Azion Workload, you have the option to associate a **custom domain** in CNAME format, such as `yourdomain.com`, with your application. This allows you to customize the domain name that users will use to access your application.

When a user enters the custom domain name in their browser, a DNS lookup process takes place. During the DNS lookup, the user's browser sends a request to a DNS server to find the IP address associated with the custom domain. The DNS server checks its database to find the corresponding IP address for the custom domain name. If the custom domain is configured to point to the Azion domain, the DNS server returns the IP address of the nearest edge node in the Azion network.

Once the user's browser receives the IP address, it establishes a connection with the appropriate edge node. The edge node then serves the requested content, and the user's browser displays the edge application.

You can customize your domain by [associating a domain record](/en/documentation/products/guides/point-domain-to-azion/) or [migrating your name resolution to Azion](/en/documentation/products/guides/migrate-ns-to-azion/).

