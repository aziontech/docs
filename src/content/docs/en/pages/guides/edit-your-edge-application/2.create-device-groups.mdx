---
title: Create device groups
description: insert later
meta_tags: build
namespace: docs_guides_build_create_device_groups
permalink: /documentation/products/guides/build/create-device-groups/
---

You can use **Device Groups** to group end-users based on their devices, operating systems, or browsers with information provided by the `User-Agent` HTTP request header. By using device groups to categorize requests, you can make your application more responsive.

## Create and match a device group

To create a device group for your edge application, you'll need:

- An [Azion account](link_accounts)
- An [edge application](link_build_with_edge_app).
- An [Azion domain](link_config_domain).

The example described in this guide will group browsers through the contents of its `User-Agent` request header. For example:

```
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.4 Mobile/15E148 Safari/604.1
```

A request that carries this header was made from a mobile device, more specifically iPhone, using a Safari browser. By creating a device group that matches the words `Mobile` and `iPhone` from the header, you can configure your application to respond differently to any request that falls within this category.

You can create device groups using [Real-Time Manager](#via-rtm) or the [Azion API](#via-api).

### Via RTM

The purpose of this guide is that you create and match a new device group for mobile devices that access your application. To add a new device group through RTM:

1. [Access RTM](link_rtm).
2. On the upper-left corner of the page, open the **Products menu**, represented by three horizontal lines, and then select **Edge Application**.
3. Click the edge application you want to create a new device group.
4. Select the **Device Groups** tab.
5. Click the **Add Device Group** button.
6. Name your device group. For example, `Mobile`.

  :::important
  The name of your device group must not contain spaces and must have only alphanumeric characters.
  :::

7. In the **User Agent** field, speficy a regular expression that will meet the desired criteria. For example: `(Mobile|iP(hone|od)|BlackBerry|IEMobile)`.
8. Click the **Save** button.

Use **Rules Engine** to determine what action must be taken if the expression is matched to a `User-Agent` header. In this case, a custom `Device-Is` header should be submitted in the response:

1. Navigate to the **Rules Engine** tab.
2. Click **Add Rule**, then select **Response Phase**.
3. Give your rule a name. For example: `Device Group: Mobile`.
4. In the **Criteria** section, select the variable `${device_group}`
5. Select the operator **is equal**.
6. Add the name of the device group as configured in the previous instructions. For example, `Mobile`.
7. In the **Behavior** section, select the behavior **Add Response Header**.
8. As an argument, add `Device-Is: Mobile device`.
9. Click the **Save** button.

If your current browser sends a `User-Agent` header similar to the example, you can test whether the request went through by accessing your application from a mobile device. If it doesn't, you can make a cURL request from your terminal and artificially add the header using the following command:

```bash
curl -I https://the9ht2nvz.map.azionedge.net/ -H "User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.4 Mobile/15E148 Safari/604.1"
```

You should receive a list of headers including the custom header added by the rule: `device-is: Mobile device`.

### Via API

