---
title: How to configure a WAF Custom Allowed Rule
description: >-
  Configuring a WAF Custom Allowed Rule allows you to instantiate specific rules
  for the needs of your edge application.
meta_tags: 'secure, WAF, WEB Application Firewall, cybersecurity, threats'
namespace: docs_guides_configure_waf_allowed_rules
permalink: /documentation/products/guides/secure/configure-waf-allowed-rules/
menu_namespace: secureMenu
---

import Tabs from '~/components/tabs/Tabs'
import LinkButton from 'azion-webkit/linkbutton'

:::caution[important]
Azion has two user interfaces: Real-Time Manager and Console, which is in *Preview* stage. Currently, Console is only available for Developer plans and new accounts. Follow the steps according to the user interface you're using.
:::

Configuring a **WAF Custom Allowed Rule** allows you to instantiate specific rules for the needs of your edge application. These rules permit specific, legitimate traffic while maintaining robust protection against malicious attacks.

This guide explains how to configure a WAF Custom Allowed Rule via Azion Edge Platform.

<LinkButton link="/en/documentation/products/secure/edge-firewall/web-application-firewall/custom-allowed-rules/" text="go to Custom Allowed Rules reference" severity="secondary" />

---

## Requirements

To instantiate Custom Allowed Rules in a WAF Rule Set, you must have:

- An [edge firewall](/en/documentation/products/guides/secure/edge-firewall-configure-main-settings/) with the Web Application Firewall module activated.
- A configured [WAF Rule Set](/en/documentation/products/guides/secure/create-waf-rule-set/).

---

## Configuring a WAF Custom Allowed Rule

<Tabs client:visible>
    <Fragment slot="tab.console">Console</Fragment>
    <Fragment slot="tab.rtm">Real-Time Manager</Fragment>

<Fragment slot="panel.console">
1. Access [Azion Console](/en/documentation/products/guides/how-to-access-azion-console/) > **WAF Rules** in **Edge Libraries**.
2. Create a [new WAF Rule Set](/en/documentation/products/secure/edge-firewall/web-application-firewall/rules-set/) or select an existent one.
3. Select the **Allowed Rules** tab.
4. Click the **+ Allowed Rule** button. 
5. Select the **Rule ID** you want to use.
    - Check the list of all [available internal rules](/en/documentation/products/secure/edge-firewall/web-application-firewall/rules-set/).
6. Type a description to explain the reason this rule was allowed.
7. In the **Match Zone Set** section configure the behavior that should be used to allow a rule:
    - In **Path**, configure the behavior that should be used to allow a rule. Example: `/api/v1/resources/*`.
    - In **Match Zones**, select the part of the request to match such as headers, body, etc.
        - According to the option, you could complete additional fields to add a specific value representing the match option and the matches for the value or the key name. Read more about [Allowed Rules fields](/en/documentation/products/secure/edge-firewall/web-application-firewall/#allowed-rules).
    - If necessary, activate the **Regex** switch to treat conditional fields as regular expressions in all match zones. 
8. Enable the **Status** switch.
9. Click the **Save** button.
</Fragment>

<Fragment slot="panel.rtm">
1. Access [Real-Time Manager (RTM)](https://manager.azion.com/).
2. Go to **Products menu** > **WAF Rules** in **Edge Libraries**.
3. Create a [new WAF Rule Set](/en/documentation/products/secure/edge-firewall/web-application-firewall/rules-set/) or select an existent one.
4. Select the **Allowed Rules** tab.
5. Click the **Add Rule** button. 
6. Select the **Rule ID** you want to use.
    - Check the list of all [available internal rules](/en/documentation/products/secure/edge-firewall/web-application-firewall/custom-allowed-rules/).
7. In **Reason**, type a description to explain the reason this rule was allowed.
8. In the **Match Zone Set** section configure the behavior that should be used to allow a rule:
    - In **Path**, configure the behavior that should be used to allow a rule. Example: `/api/v1/resources/*`.
    - In **Match Zones**, select the part of the request to match such as headers, body, etc.
        - According to the option, you could complete additional fields to add a specific value representing the match option and the matches for the value or the key name. Read more about [Allowed Rules fields](/en/documentation/products/secure/edge-firewall/web-application-firewall/#allowed-rules).
    - If necessary, activate the **Regex** switch to treat conditional fields as regular expressions in all match zones. 
9. Enable the **Active** switch.
10. Click the **Save** button.
</Fragment>

</Tabs>

:::tip
You can configure a Custom Allowed Rule based on the WAF Tuning records. Consult the guide on [How to tune WAF](/en/documentation/products/guides/secure/tune-waf/) for more information.
:::


