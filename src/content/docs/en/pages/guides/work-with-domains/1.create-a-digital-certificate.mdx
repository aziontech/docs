---
title: Create a digital certificate
description: Digital Certificates are essential for online security, providing authentication and encryption for your data.
meta_tags: digital certificate, encryption, TLS, SSL, authentication, security
namespace: docs_guides_create_digital_certificate
permalink: /documentation/products/guides/create-a-digital-certificate/
---

If your application runs on HTTPS, you'll need a **digital certificate**. A TLS digital certificate confirms a website's identity and protects data transfers. It secures financial transactions and any exchange of sensitive information, from login credentials to personal data.

When you [create a domain](link_configure_domain), you can submit your Azion domain as a SAN entry under Azion's certificate. This means that the Azion domain associated with your HTTPS edge application will be secure. However, **Azion SAN** only protects `azionedge.net` domains.

If you [point your domain](link_point_domain) or [migrate your NS resolution](link_migrate_ns) to Azion, your custom domain won't be protected by Azion's certificate and you will need a custom certificate or a Let's Encrypt certificate. 

At Azion, you can upload your own TLS certificate acquired from a Certificate Authority (CA). When submitting a request for a certificate to a CA, you can include multiple custom domains that the certificate must encrypt. You can assign this certificate across Azion domains and edge applications. This means you can use the same certificate for many domains, as long as the host or CNAMEs listed in the domains were also included in the signed certificate.

Azion supports digital certificates that use the X.509 standard. This certificate holds owner identification, a public key, and is either signed by a CA or self-signed. Another type of certificate supported by Azion is **Trusted CA**. These are digital certificates signed by a CA and supported by the CA's root certificate under a *chain of trust* model.

You can also request that a **Let's Encrypt certificate** be generated for your domain through Azion. The process for requesting a Let's Encrypt certificate is different from the previous types of certificates. See [how to generate a Let's Encrypt certificate](link_guide_lets) for more information.

<Button href="link_dig_cert" variant="secondary" text="Go to Digital Certificates documentation"></Button>

To register your custom certificate with Azion, you'll need:

- An Azion [account and credentials](link_account).
- An [edge application](link_create).
- A [custom domain](link_configure#custom-domain).

You can choose to add a certificate using [Real-Time Manager (RTM)](#via-rtm) or the [Azion API](#via-api).

## Via RTM

To add a certificate to your account:

1. [Access RTM](https://manager.azion.com).
2. On the upper-left corner of the page, open the **Products menu**, represented by three horizontal lines, and then select **Digital Certificates**.
3. To add a new **Custom certificate**, click the **Add certificate** button, then select the **Edge Certificate** option. If your certificate is a CA cert type, select **Trusted CA**.
4. Name your certificate.
5. Keep the option **Upload my certificate and private key** selected.
6. In the field **Certificate**, paste the certificate.
7. For custom certificates, you also need to paste the private key in the **Private key** field.
8. Click the **Save** button.

Now you need to associate your certificate to an Azion domain:

1. On the upper-left corner of the page, open the **Products menu**, represented by three horizontal lines, and then select **Domains**.
2. Select the desired domain.
3. In **Edge Certificate**, select the certificate you created in the previous steps.
4. Make sure the CNAMEs listed in the **CNAME** field are the same as the issued certificate for your custom domain.
5. Click the **Save** button.
6. Wait a couple of minutes for the changes to propagate. 

You can access your HTTPS application and check the security settings using your browser or run the following OpenSSL command, replacing `yourdomain.com` with one of the CNAMEs of the domain:

```bash
openssl s_client -showcerts -connect yourdomain.com:443
```

## Via API

You can submit your custom certificate to Azion with a sequence of Client URL (cURL) commands you can run in your terminal, or in an API platform of your choosing.

Before you run the Azion API, you need to [generate a personal token](link_personal_token) for your account.

To create a custom certificate via API:

1. Acquire the X.509 certificate from a CA.
2. Replace any line breaks with `\n`, including for the begin and end markers, to turn the certificate into a string.
3. Do the same to the private key.
4. Run the following cURL command in your terminal, replacing `[TOKEN VALUE]` with your personal token and adding your certificate and private key to the fields:

```bash
curl --location 'https://api.azionapi.net/digital_certificates' \
--header 'Accept: application/json; version=3' \
--header 'Content-Type: application/json' \
--header 'Authorization: Token [TOKEN VALUE]' \
--data '{
    "name": "example.com - certificate",
    "certificate": "-----BEGIN CERTIFICATE-----\n<your_private_key>\n-----END CERTIFICATE-----",
    "private_key": "-----BEGIN RSA PRIVATE KEY-----\n<your_private_key>\n-----END RSA PRIVATE KEY-----"
}'
```

  | Key | Description |
  | --- | --- |
  | `name` | Sets the string in the value as a name of the certificate entry with Azion. |
  | `certificate` | Takes your certificate as a value. Must be a continuous string. |
  | `private_key` | Takes your private key as a value. Must be a continuous string. |

If you want to create a trusted CA certificate:

1. Acquire a trusted certificate signed by your CA.
2. Replace any line breaks with `\n`, including for the begin and end markers, to turn the certificate into a string.
3. Run the following cURL command in your terminal, replacing `[TOKEN VALUE]` with your personal token and adding your certificate and to the fields:

```bash
curl --location 'https://api.azionapi.net/digital_certificates' \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Content-Type: application/json' \
--data '{
    "name": "Trusted CA for yourdomain.com",
    "certificate": "-----BEGIN CERTIFICATE-----\n<your_trusted_ca_certificate>\n-----END CERTIFICATE-----",
    "certificate_type": "trusted_ca_certificate"
}'
```
  | Key | Description |
  | --- | --- |
  | `name` | Sets the string in the value as a name of the certificate entry with Azion. |
  | `certificate` | Takes your certificate as a value. Must be a continuous string. |
  | `certificate_type` | When set to `trusted_ca_certificate`, the endpoint no longer requires a private key entry. |

4. In both cases, you'll receive a response with data on the certificate:

```json
{
    "results": {
        "id": <digital_certificate_id>,
        "name": "Certificate for yourdomain.com",
        "issuer": "",
        "subject_name": [],
        "validity": "2028-03-24 20:09:00-03:00",
        "status": "Active",
        "certificate_type": "edge_certificate",
        "managed": false
    }
}
```

Now, to edit your domain and link it to the digital certificate:

1. Run the following `GET` request to retrieve your domain's id:

```bash
curl --location 'https://api.azionapi.net/domains' \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]' \
```

2. You'll receive a response similar to this:

```json
{
    ...
    "results": [
        {
            "id": <domain_id>,
            "name": "My Domain",
            "cnames": [],
            "cname_access_only": true,
            "digital_certificate_id": null,
            "edge_application_id": <edge_application_id>,
            "is_active": true,
            "domain_name": "xxxxxxxxxx.map.azionedge.net"
        }
    ]
}
```

3. Locate the domain you wish to associate to the certificate and copy the `domain_id` value received in the response.
4. Run a `PATCH` request, adding the `domain_id` as a path, to update the `digital_certificate_id` field with the id you received in the creation process:

:::note[Optional]
As shown in the example below, if you didn't update the CNAME field with your custom domain yet, make sure to add the host and any common names for the application that are protected by the certificate. This will be useful when you later [point your domain](link_point_domain) or [migrate your NS resolution](link_migrate_ns) to Azion.
:::

```bash
curl --location --request PATCH 'https://api.azionapi.net/domains/<domain_id>' \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]' \
--header 'Content-Type: application/json' \
--data '{
    "digital_certificate_id": <digital_certificate_id>,
    "cnames": [
        "yourdomain.com"
    ]
}'
```

5. You should receive a response with the updated data.
6. Wait a couple of minutes for the changes to propagate. Then, access your HTTPS application and check the security settings using your browser or run the following OpenSSL command, replacing `yourdomain.com` with one of the CNAMEs of the domain:

```bash
openssl s_client -showcerts -connect yourdomain.com:443
``` 

:::tip
Check the [Azion API documentation](link_azionapi) and the [OpenAPI specification](link_openapi) to know more about all features available via API.
:::
