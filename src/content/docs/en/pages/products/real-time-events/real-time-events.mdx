---
title: Real-Time Events
description: Real-Time Events is an Observe product that allows you to display logs from your Azion products and services in real time.
meta_tags: edge computing, events, data, logs, raw data
namespace: documentation_products_real_time_events
permalink: /documentation/products/real-time-events/
---

**Real-Time Events** is an [Observe](/en/documentation/products/observe/) product that provides raw data, *logs*, from other Azion products in real time.

A set of preorganized variables are available to make queries manually using different data sources, allowing you to get extensive, detailed information on behaviors, occurrences, and performance of your applications through logs.

You can use Real-Time Events to:

- Perform complex searches.
- Inspect possible attacks.
- Perform debugging investigations.
- Analyze application's performance.
- Analyze applications and platform savings.
- Increase reliability of your data.
- Decrease problem-solving time.
- Improve content delivery based on actual data.


## Implementation

| Task | Guide |
| ---- | ----- |
| See first steps | [Real-Time Events first steps](/en/documentation/products/real-time-events/first-steps/) |

---

## Events storage

Real-Time Events stores events logs from the last *168 hours*, equivalent to *7 days*. You're able to query detailed data during that period.

The product is currently in **Beta** access. If you encounter any problems or have feedback, [contact the Support team](https://www.azion.com/en/support/).

---

## Data sources 

**Data Source** represents the Azion product or service that generated the events you'll query for. When submitting a query, the data source represents the index from where you want to collect data.

Selecting a data source in the dropdown menu is mandatory. You can choose between:

- [Data Streaming](#data-streaming)
- [Edge Applications](#edge-applications)
- [Edge Functions](#edge-functions)
- [Edge Pulse](#edge-pulse)
- [WAF Events](#waf-events)

Each data source has a specific set of available variables, representing the specific information you can receive in your query. See each data source’s prerequisites and variables and their description next.

### Data Streaming

Displays the event records of data sent to your configured endpoints. You must be subscribed to the [Data Streaming](/en/documentation/products/data-streaming/) product to view data.

| Variable | Description |
| -------- | ----------- |
| $client_id | Unique Azion customer identifier. Example: `4529r` |
| $data_streamed | Total amount of data streamed in bytes to the configured endpoint (attempt/sink/send). Example: `1270` |
| $endpoint_type | Type of endpoint used in the configured data streaming. Can be: `S3`, `Kafka`, `HTTP / HTTPS Post`,  |
| $job_name | Unique Azion identification for the type of streaming created. Example: `Data Streaming HTTP`, `Data Streaming WAF`. |
| $status_code | The status code of the request. Example: `200`. |
| $streamed_lines | Total amount of lines streamed to the configured endpoint. Maximum value of `2000`. Example: `837` |
| $time | Date and time when the data was sent to the configured endpoint. Example: `Oct. 31st, 2022 - 19:30:41` |
| $url | The URL to which the client data was sent/sink. |

---

### Edge Applications

Displays the event records from requests made to your [edge applications](/en/documentation/products/edge-application/).

| Variables | Description |
| --- | --- |
| $asn | AS Number refers to Autonomous System Number Allocation which corresponds to a group of IP address networks managed by one or more network operators that have a clear and unique routing policy. Consulting the ASN Whois service for LACNIC, Azion’s ASN, for example, is AS52580. Choose the ASN type to represent a list of AS groups, filling in one address per line, with only the number without the prefix. |
| $bytes_sent | Bytes sent to the user, including header and body. |
| $client | Unique Azion customer identifier. Example: 4529r |
| $city | The remote client city name, for example, “Chicago”,  ”Boston”. Geolocation detection by IP address. |
| $country | The remote client country name, for example, “Russian Federation”, “United States”. Geolocation detection by IP address. |
| $host | Host information sent on the request line; or HTTP header Host field. |
| $http_referrer | Information from the last page the user was on before making the request. |
| $http_user_agent | The identification of the application that made the request, for example: Mozilla/5.0 (Windows NT 10.0; Win64; x64). |
| $proxy_status | HTTP code when the error is generated by Nginx, when no response is obtained from the upstream. Ex: ' 520'. |
| $remote_addr | IP address of the origin that generated the request. |
| $remote_port | Remote port of the origin that generated the request. |
| $request_id | Unique request identifier. Example: '5f222ae5938482c32a822dbf15e19f0f'. |
| $request_length | Request size, including request line, headers and body. |
| $request_method | Request method; usually “GET” or “POST”. |
| $request_time | Request processing time, with resolution in milliseconds. |
| $request_uri | URI of the request made by the user, without the Host and Protocol information. |
| $scheme | Request scheme “http” or “https". |
| $sent_http_content_type | “Content-Type” header sent in the origin’s response. |
| $server_addr | IP address of the server that received the request. |
| $server_port | Remote port of the server that received the request. |
| $server_protocol | The connection established protocol, usually “HTTP/1.1” or “HTTP/2.0”. |
| $ssl_cipher | Cipher string used to establish TLS connection. |
| $ssl_protocol | The protocol for an established TLS connection, for example “TLS v1.2”. |
| $state | Name of the remote client’s state, for example: “RS”, “SP”. Geolocation detection of IP address. |
| $status | The status code of the request, for example: 200. |
| $time | Request date and time. Example: `Oct. 31st, 2022 - 19:30:41` |
| $traceback | It provides the names of the Rules Engine from your Edge Application and your Edge Firewall that are run by the request. |
| $upstream_addr | Upstream address and port. Example: '192.168.1.1:80'. |
| $upstream_bytes_received | Number of bytes received by the origin’s Edge, if the content is not cached. |
| $upstream_bytes_sent | Number of bytes sent to an upstream. Example: '2733'. |
| $upstream_cache_status | Edge cache status. It can assume the values “MISS”, “BYPASS”, “EXPIRED”, “STALE”, “UPDATING”, “REVALIDATED” or “HIT”. |
| $upstream_response_time | Time in milliseconds for Edge to receive all of the response from the origin, including headers and body (“-“ in case of cache). |
| $upstream_status | HTTP response code obtained from the upstream server. EX: '200'. |
| $waf_attack_action | It reports WAF’s action regarding the action ($BLOCK, $PASS, $LEARNING_BLOCK, $LEARNING_PASS). |
| $waf_attack_family | It informs the classification of the WAF infraction detected in the request (SQL, XSS, TRAVERSAL, among others) |
| $waf_block | It informs whether the WAF blocked the action or not; 0 when not blocked and 1 when blocked. When in “Learning Mode”, it will not be blocked, regardless of the return. |
| $waf_headers | Request headers analyzed by WAF. |
| $waf_learning | It informs if WAF is in learning mode, usually 0 or 1. |
| $waf_match | List of infractions found in the request, it's formed by key-value elements; the key refers to the type of violation detected; the value shows the string that generated the infraction. |
| $waf_score | It reports the score that will be increased in case of a match. |

**Important**: for some IPs, ASN information may not be available for the time being. Real-Time Events is constantly being updated, so its databases present the largest number of information as possible.

> The $traceback variable can be used if you have the *Debug rules* option activated in your application. See more on [Debugging rules on Edge Application](/en/documentation/products/edge-application/rules-engine/#debugging-rules).

---

### Edge Functions

Displays the data from requests made to your edge functions at Azion.

| Variables | Description |
| --- | --- |
| $client_id | Unique Azion customer identifier. Example: `4529r` |
| $configuration_id | Unique Azion configuration identifier. |
| $function_id | Unique Azion function identifier number. Can be found on RTM's function URL path or [via API request](https://api.azion.com/#a6fce388-702e-4eca-ad54-791946b34501). Example: `1111` |
| $message_content | Open field with a message used in the console.log for debugging. |
| $message_level | Message with the level type for the function. Can be `MDN`, `DEBUG`, `INFO`, `ERROR`, `LOG`, or `WARN`. |
| $message_source | The source of the message. Can be: `CONSOLE` when messages are generated by the Console API, or `RUNTIME` when it's related to an error message. |
| $time | Request date and time. Example: `Oct. 31st, 2022 - 19:30:41` |

:::note
To query an edge function logs', see the [Debbuging documentation](/en/documentation/products/edge-application/edge-functions/debugging/) documentation.
:::

---

### Edge Pulse

If you are using the Azion Pulse in your edge applications, the Edge Pulse data source will display the performance data measured from the user's browser (RUM).

| Variable | Description |
| --- | --- |
| $browser | The UUID generated for the client browser used on the request. |
| $client_id | Unique Azion customer identifier. Example: 4529r |
| $contentdownload | Time used to download the requested content. |
| $dns | DNS resolution time. |
| $downlink | It returns the average volume of data received (Mb/s). |
| $effectivetype | The effective type of the connection (2g, 3g, 4g). |
| $hostname | Hostname of the current URL. |
| $locationhref | It returns the complete URL of the current page. |
| $navigation.contentDownload | Time used to download the content.                           |
| $navigation.dns             | DNS resolution time.                                         |
| $navigation.networkDuration | Duration without query browser waiting.                      |
| $navigation.PageLoadTime    | Time from the start of navigation to the full page load.     |
| $navigation.redirectCount   | It returns the number of redirects since the last navigation without redirection in the context of the current navigation. |
| $navigation.renderTime      | Time the browser was rendered after browsing.                |
| $navigation.ssl             | Standard protocol used to maintain a secure traffic connection. |
| $navigation.tcp             | Internet protocol that returns the data that makes up the page. |
| $navigation.ttfb            | Time until the arrival of the first byte of the requested page. |
| $navigation.type            | It returns the type of navigation without redirection.       |
| $navigation.typeBackForward | Type of navigation through the session history.              |
| $navigation.typeNavigate    | It returns the type of the last navigation without redirection, for example: by clicking on a link, entering the URL in the address bar or submitting a form. |
| $navigation.typeReload      | Type of navigation for the reload operation, that is, when the page was reloaded. |
| $navigation.typeReserved    | Any type of navigation not defined by those previously mentioned (typeNavigate, typeReload). |
| $networkApi.downlink        | It returns the average volume of data received (Mb/s).       |
| $networkduration | Duration without query browser waiting. |
| $pageloadtime | Time from the start of navigation to the full page load. |
| $platform | Operating system architecture (for example Linux x86_64, Iphone, etc). |
| $redirectcount | It returns the number of redirects since the last navigation, without redirection in the context of the current navigation. |
| $referrer | It returns the previous url to the current page. That is, the url by which the user arrived at “locationHref”. If the access originated directly from the current page (not through a link, but for example, through a bookmark), its value will be an empty string. It doesn't provide DOM access to the reference page. |
| $rendertime | The amount of time it took to render the page. |
| $ssl | Standard protocol used to maintain a secure traffic connection. If the requested url has a secure connection, returns the time it took for authenticating. |
| $tcp | Internet protocol that returns the data that makes up the page. The time it takes for the TCP handshake is the time between the connection start and a connection end. |
| $time | Request date and time. Example: `Oct. 31st, 2022 - 19:30:41` |
| $timestamp | Request date and time. Example: `Oct. 31st, 2022 - 19:30:41` |
| $ttfb | Time until the arrival of the first byte of the requested page. Time To First Byte is the time between the start of the navigation and when the first byte of response data is received. |
| $type | It returns the type of navigation without redirection. Indicates how the navigation to this page/script was done (E.g.: navigation, reload). |
| $typebackforward | Type of navigation through the session history. |
| $typenavigate | It returns the type of the last navigation without redirection, for example: by clicking on a link, entering the URL in the address bar or submitting a form. |
| $typereload | Type of navigation for the reload operation, that is, when the page was reloaded. |
| $typereserved | Any type of navigation not defined by those previously mentioned (typeNavigate, typeReload). |
| $userAgent | It identifies the client UA browser. |
| $version | The version of Azion Log used. |

---

### WAF

If you have contracted the [Web Application Firewall](/en/documentation/products/edge-firewall/web-application-firewall/) product, the WAF Events data source will display the requests analyzed by WAF to allow you to map the score assigned to the request, the WAF rules that matched, the reason for the block, and more.

| Variable | Description |
| --- | --- |
| $attack_family | It tells you the attack families, categories where our Web Application Firewall identifies the attack and classifies it according to the OWASP Top 10. |
| $blocked | It informs whether the WAF blocked the action or not; 0 when not blocked and 1 when blocked. When in “Learning Mode”, it will not be blocked, regardless of the return. |
| $client_id | Unique Azion customer identifier. Example: 4529r |
| $geoloc_country_name | Name of the remote client's country, for example "Russian Federation", "United States". <br/>Detection by IP address geolocation. |
| $host | Host information sent on the request line; or Host field of the HTTP header. |
| $remote_address | IP address of the origin that generated the request. |
| $server_protocol | The connection established protocol, usually “HTTP/1.1” or “HTTP/2.0”. |
| $time | Request date and time. Example: `Oct. 31st, 2022 - 19:30:41` |
| $total_blocked | It informs the total number of blocked requests. |
| $total_processed | It informs the total number of processed requests. |
| $waf_action | It reports WAF’s action regarding the action ($BLOCK, $PASS, $LEARNING_BLOCK, $LEARNING_PASS). |
| $waf_args | The request arguments. |
| $waf_learning | It informs if WAF is in learning mode, usually 0 or 1. |
| $waf_match | List of infractions found in the request, it is formed by key-value elements; the key refers to the type of violation detected; the value shows the string that generated the infraction. |
| $waf_score | It reports the score that will be increased in case of match. |
| $waf_server | Hostname used in the request. |
| $waf_uri | URI used in the request. |

---

## Time filter

The **Time filter** allows you to refine the period for the events record search result. It's selected by default for **Last 15 minutes**.

You can filter by:

- Last 15 minutes
- Last 30 minutes
- Last 1 hour
- Last 3 hours
- Last 6 hours
- Last 12 hours
- Last day
- Last 2 days
- Last 3 days
- Last 5 days
- Last 7 days
- Custom

By using the **Custom** field, you can customize your search by selecting a date and time range during the last *168 hours*.

You can change the time range as many times as you want to investigate your logs.

---

## Filter by

In the **Filter by** field, you filter your search results by using a keyword or phrase. This makes your search more specific and makes it easier to find the logs you want to analyze.

By submitting a search with a blank **Filter by** field, you'll get all existing records for the variables of the selected data source available during the selected time filter.

The field uses SQL language to query results. Your search must be in one of two formats:

`key='value'`

- Exact match, where:
    - `key`: one of the variables from the data source you're querying for.
    - `=`: means the search must query for the exact value passed.
    - `value`: a value of either string or integer format.

`key like '%value%'`

- Similar value, where:
    - `key`: one of the variables from the data source you're querying for.
    - `like`: means the search must query for a similar value to the one passed.
    - `%value%`:s a value of either string or integer format surrounded.

In the second format, you can use with `value`:

    - `%value%`: filters for values that contain the entire specified value.
    - `%value`: filters for values that end with the specified value. 
    - `value%`: filters for values that begin with the specified value.

You can also search for more complex queries with the `AND`, `OR`, and `NOT` notations to combine the fields.

Some examples of SQL queries:

| Variable | SQL query |
| -------- | --------- |
| $status | `status='404'` |
| $status + $scheme | `status='200' AND scheme='https'` |
| $endpoint_type | `endpoint_type='datadog'` |
| $geoloc_country_name | `geoloc_country_name='Brazil'` |
| $message_content | `message_content like '%unavailable%'` |
| $message_content | `message_content like '%available%'` |

**Note**: you can't use the `timestamp` variable as a key in your search, as you'll query the time in the **Time filter** field.

---

## Data exhibition

After you complete the filters and search for results, your logs will appear in a table.

Each line is a different log, which equals to a different action performed by the edge. If you click on a log, the line will expand and provide more detailed information about it. The information shown varies according to the specifics of each variable.

The interface paginates for a given amount of results at first, but it'll continue to load all available results as you scroll through the page.

---

## Refresh

After performing a query, you can use the **Refresh** button to update the returned data. **Real-Time Events** will repeat the last search performed, updating the data but keeping the time filter and the SQL filter you used.

If you had the **Last 30 minutes** time filter, for example, and it was 4:00, you'd have logs from 3:30-4:00. If you use the **Refresh** button at 4:45, you'll have logs from 4:15 P.M-4:45.

The search continues to return the results ordered by most recent to oldest.

---

## Limits

Depending on the size of your data, the query limit may exceed. If this happens, filter by a short time filter.
