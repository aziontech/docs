---
title: How to set error pages
description: >-
  Set cache TTL for errors received from the origin and customize the error
  pages for your end-user.
meta_tags: 'error, http, status, code, page, cache, ttl'
namespace: docs_guides_build_set_error_pages
permalink: /documentation/products/guides/build/set-error-pages/
---

import Tabs from '~/components/tabs/Tabs'
import Code from '~/components/Code/Code.astro'
import Apiv4Rollout from '~/includes/snippets/apiv4Rollout/en/snippet.mdx'

<Apiv4Rollout />

Configure your edge application to handle error responses from the origin using [Error Responses](/en/documentation/products/build/edge-application/error-responses/). Azion allows you to set a cache TTL for error pages, a custom path, or deliver another HTTP code in the response without needing to change the source code of your application.

With this guide, you'll modify the default error response of your application, setting a cache TTL for each error received from the origin.

:::tip
If you're not sure which steps apply to your account, see [this guide](/en/documentation/products/guides/verify-account-migration/) to determine if your account has already been migrated.
:::

---

<Tabs client:visible>
<Fragment slot="tab.consoleworkloads">Console - Workloads</Fragment>
<Fragment slot="tab.consoledomain">Console - Domains</Fragment>
<Fragment slot="tab.apiv4">API v4</Fragment>
<Fragment slot="tab.apiv3">API v3</Fragment>

<Fragment slot="panel.consoleworkloads">

To configure error responses via Workloads:

1. Access [Azion Console](/en/documentation/products/guides/how-to-access-azion-console/) > **Workloads**.
2. Select your workload.
3. Navigate to **Deployment Settings**.
4. In **Error Responses**, configure the **Default Response TTL** to set the cache time-to-live (TTL) in seconds for all error pages.
5. Click **+ Error Response** to customize specific status codes.
6. Select the **Status Code** you want to customize (e.g., `404`).
7. Configure **Custom Response TTL**, **Page Path**, and **Response Status Code** as needed.
8. Click **Save**.

:::note
With Workloads, error responses are configured as part of the deployment settings and are automatically applied to the workload.
:::

</Fragment>

<Fragment slot="panel.consoledomain">

To configure error responses via traditional Domains interface:

1. Access [Azion Console](/en/documentation/products/guides/how-to-access-azion-console/) > **Edge Application**.
2. Click the edge application you want to configure.
3. Select the **Error Responses** tab.

In the **Error Responses** section, the **Status Code** field can't be modified. This field represents every error status code received from the origin. The **Default Response TTL** field allows you to customize the cache TTL for every status code received.

4. In **Default Response TTL**, set the cache *time-to-live* (TTL), in seconds, for all error pages.
5. Click the **+ Error Response** button.
6. In the new **Status Code** field, select the status code you want to customize. For example: `404`.
7. Add a cache TTL in the **Custom Response TTL** field.

You can also determine a specific path from your origin that will be delivered to the user and a custom status code in the response. These modifications are optional.

8. In the **Page Path** field, add a *path* to an error page created in the source. For example: `/error/404`.
9. In the **Response Status Code** field, customize the HTTP status that'll be received by the user.
10. In the **Set Origin** section, select the origin of error page URIs.
11. Click the **Save** button.

When errors are received from the origin, your edge application will cache and display the error page based on the new configuration.

</Fragment>

<Fragment slot="panel.apiv4">

To configure error responses via API v4:

1. Create a custom error response:

<Code lang="bash" code={`curl --request POST \\
  --url https://api.azion.com/v4/edge_applications/<edge_application_id>/error_responses \\
  --header 'Accept: application/json' \\
  --header 'Content-Type: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --data '{
    "status_code": 404,
    "custom_response_ttl": 3600,
    "page_path": "/error/404",
    "response_status_code": 404,
    "origin_id": <origin_id>
  }'`} />

2. Update the default response TTL:

<Code lang="bash" code={`curl --request PATCH \\
  --url https://api.azion.com/v4/edge_applications/<edge_application_id> \\
  --header 'Accept: application/json' \\
  --header 'Content-Type: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --data '{
    "error_responses": {
      "default_response_ttl": 300
    }
  }'`} />

:::tip
Check the [Error Responses API v4 documentation](https://api.azion.com/v4#/operations/GetApplicationsErrorResponses) for more details.
:::

</Fragment>

<Fragment slot="panel.apiv3">

To configure error responses via API v3:

1. Run the following `POST` request to create a custom error response:

<Code lang="bash" code={`curl --request POST \\
  --url https://api.azionapi.net/edge_applications/<edge_application_id>/error_responses \\
  --header 'Accept: application/json; version=3' \\
  --header 'Content-Type: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --data '{
    "status_code": 404,
    "custom_response_ttl": 3600,
    "page_path": "/error/404",
    "response_status_code": 404,
    "origin_id": <origin_id>
  }'`} />

| Key | Description |
| --- | --- |
| `status_code` | HTTP status code to customize (e.g., 404, 500) |
| `custom_response_ttl` | Cache TTL in seconds for this specific error |
| `page_path` | Path to the custom error page at your origin |
| `response_status_code` | Custom status code to return to the user |
| `origin_id` | ID of the origin containing the error pages |

2. You'll receive a response similar to this:

```json
{
  "results": {
    "id": <error_response_id>,
    "status_code": 404,
    "custom_response_ttl": 3600,
    "page_path": "/error/404",
    "response_status_code": 404,
    "origin_id": <origin_id>
  }
}
```

3. To update the default response TTL for all errors:

<Code lang="bash" code={`curl --request PATCH \\
  --url https://api.azionapi.net/edge_applications/<edge_application_id> \\
  --header 'Accept: application/json; version=3' \\
  --header 'Content-Type: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --data '{
    "error_responses": {
      "default_response_ttl": 300
    }
  }'`} />

4. Wait a few minutes for the changes to propagate.

:::tip
Check the [Error Responses API v3 documentation](https://api.azionapi.net/api/v3#/Error%20Responses) for more details.
:::

</Fragment>

</Tabs>