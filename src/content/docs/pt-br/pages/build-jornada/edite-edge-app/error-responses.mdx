---
title: Como configurar páginas de erro
description: >-
  Defina o TTL do cache para erros recebidos da origem e personalize as páginas
  de erro para o seu usuário final.
meta_tags: 'erro, http, status, código, página, cache, ttl'
namespace: docs_guides_build_set_error_pages
permalink: /documentacao/produtos/guias/build/configurar-paginas-de-erro/
---

import Tabs from '~/components/tabs/Tabs'
import Code from '~/components/Code/Code.astro'
import Apiv4Rollout from '~/includes/snippets/apiv4Rollout/pt/snippet.mdx'

<Apiv4Rollout />

Com este guia, você irá modificar a resposta de erro padrão da sua aplicação, definindo um TTL de cache para cada erro recebido da origem.

Existem instruções separadas para API v3 usando as configurações legadas de [Error Responses](/pt-br/documentacao/produtos/build/edge-application/error-responses/) e API v4 usando o novo produto [Custom Pages](/pt-br/documentacao/produtos/secure/custom-pages/).

:::tip
Se você não tem certeza de quais etapas se aplicam à sua conta, veja [o guia Verificar migração da conta](/pt-br/documentacao/produtos/guias/verificar-migracao-da-conta/) para determinar se sua conta já foi migrada.
:::

<Tabs client:visible>
    <Fragment slot="tab.consolecustompages">Console - Custom Pages</Fragment>
    <Fragment slot="tab.consoleerrorresponses">Console - Error Responses</Fragment>

<Fragment slot="panel.consolecustompages">

Configure sua edge application para lidar com respostas de erro da origem usando [Custom Pages](/pt-br/documentacao/produtos/secure/custom-pages/). A Azion permite que você defina um TTL de cache para páginas de erro, um caminho personalizado ou entregue outro código HTTP na resposta sem precisar alterar o código-fonte da sua aplicação.


---

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Custom Pages**.
2. Clique em **+ Custom Page**.
3. Na seção **Page Codes**, clique em **+ Custom Page Code** para adicionar uma página para um código de status escolhido. Por exemplo: `404`.
4. No novo campo **Page Code**, selecione o código de status que deseja personalizar.
5. No campo **Edge Connector**, selecione o [Edge Connector](/pt-br/documentacao/produtos/secure/edge-connector/) que está buscando os dados da sua origem.
6. No campo **Page Path**, adicione um *path* para uma página de erro criada na origem. Por exemplo: `/error/404`.
7. Em **Response TTL**, defina o *time-to-live* (TTL) do cache, em segundos.
8. No campo **Response Custom Status Code**, personalize o status HTTP que será recebido pelo usuário.
9. Clique no botão **Apply**.

Agora vamos vincular a Custom Page ao seu [Workload](/pt-br/documentacao/produtos/secure/workloads/):

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Workloads**.
2. Edite o Workload desejado.
3. Na seção **Deployment Settings**, selecione sua Custom Page.
4. Clique no botão **Save**.

Quando forem recebidos erros do Edge Connector, sua edge application irá armazená-los em cache e exibir a página de erro com base na nova configuração.

</Fragment>

<Fragment slot="panel.consoleerrorresponses">

Configure sua edge application para lidar com respostas de erro da origem usando [Error Responses](/pt-br/documentacao/produtos/build/edge-application/error-responses/). A Azion permite que você defina um TTL de cache para páginas de erro, um caminho personalizado ou entregue outro código HTTP na resposta sem precisar alterar o código-fonte da sua aplicação.

Com este guia, você irá modificar a resposta de erro padrão da sua aplicação, definindo um TTL de cache para cada erro recebido da origem.

---

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Edge Application**.
2. Clique na edge application que você deseja configurar.
3. Selecione a aba **Error Responses**.

Na seção **Error Responses**, o campo **Status Code** não pode ser modificado. Este campo representa todos os códigos de erro recebidos da origem. O campo **Default Response TTL** permite que você personalize o TTL de cache para todos os códigos recebidos.

4. Em **Default Response TTL**, defina o *time-to-live* (TTL) do cache, em segundos, para todas as páginas de erro.
5. Clique no botão **+ Error Response**.
6. No novo campo **Status Code**, selecione o código de status que você deseja personalizar. Por exemplo: `404`.
7. Adicione um TTL de cache no campo **Custom Response TTL**.

Você também pode determinar um caminho específico da sua origem que será entregue ao usuário e um código de status personalizado na resposta. Essas modificações são opcionais.

8. No campo **Page Path**, adicione um *path* para uma página de erro criada na origem. Por exemplo: `/error/404`.
9. No campo **Response Status Code**, personalize o status HTTP que será recebido pelo usuário.
10. Na seção **Set Origin**, selecione a origem das URIs da página de erro.
11. Clique no botão **Save**.

Quando erros forem recebidos da origem, sua edge application irá armazenar em cache e exibir a página de erro com base na nova configuração.

</Fragment>
</Tabs>
