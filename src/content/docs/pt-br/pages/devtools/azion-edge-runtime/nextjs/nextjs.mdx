---
title: Compatiblidade entre a Azion e o Next.js
description: >-
  Explore a compatibilidade entre vÃ¡rias versÃµes do Next.js e a Azion Edge
  Platform, incluindo suporte para SSR, SSG e API Routes.
permalink: /documentacao/runtime-api/frameworks-suportados/nextjs/
meta_tags: >-
  Next.js, Azion Web Platform, compatibilidade Next.js, versÃµes Next.js,
  prÃ©-renderizaÃ§Ã£o Next.js, React framework, SSR, SSG, API Routes, Incremental
  Static Regeneration
namespace: documentation_devtools_runtime_compatibility_nextjs
menu_namespace: ''
---

Compatibilidade entre diferentes versÃµes do Next.js e a Azion Web Platform.

:::note
 VocÃª pode encontrar exemplos mais detalhados no [repositÃ³rio Azion Bundler](https://github.com/aziontech/bundler/).
:::

---

## OpenNext

O adaptador [`@aziontech/opennextjs-azion`](https://www.npmjs.com/package/@aziontech/opennextjs-azion) permite que vocÃª implante aplicativos Next.js para [FunÃ§Ãµes Azion](https://www.azion.com/pt-br/produtos/edge-functions/) usando o [runtime "de Node.js" do Next.js](https://nextjs.org/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes).

### IntroduÃ§Ã£o

#### Novos aplicativos

Para criar um novo aplicativo Next.js, prÃ©-configurado para executar na Azion usando `@aziontech/opennextjs-azion`, execute:

```shell
npx create-next-app@14.2.4 my-next-app --use-npm && cd my-next-app && npm install @aziontech/opennextjs-azion@latest
```

#### Aplicativos Next.js existentes

Siga o guia [aqui](/azion/get-started) para usar [@aziontech/opennextjs-azion](https://www.npmjs.com/package/@aziontech/opennextjs-azion) com um aplicativo Next.js existente.

### VersÃµes do Next.js suportadas

Todos os patch e versÃµes menores do Next.js 15 e o menor patch do Next.js 14 sÃ£o suportados.

Para ajudar a melhorar a compatibilidade, incentivamos vocÃª a [relatar bugs](https://github.com/aziontech/opennextjs-azion/issues) e contribuir com cÃ³digo!

### Recursos do Next.js suportados

| Recurso | Suporte | ComentÃ¡rios |
|---|---|---|
| [App Router](https://nextjs.org/docs/app) | ğŸŸ¢ | |
| [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) | ğŸŸ¢ | |
| [Rotas dinÃ¢micas](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes) | ğŸŸ¢ | |
| [GeraÃ§Ã£o de Site EstÃ¡tico (SSG)](https://nextjs.org/docs/app/building-your-application/rendering/server-components#static-rendering-default) | ğŸŸ¢ | |
| [RenderizaÃ§Ã£o no Lado do Servidor (SSR)](https://nextjs.org/docs/app/building-your-application/rendering/server-components) | ğŸŸ¢ | |
| [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware) | ğŸŸ¢ | |
| [Node Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware#runtime) | ğŸŸ¡ | introduzido no 15.2 ainda nÃ£o Ã© suportado |
| [OtimizaÃ§Ã£o de Imagem](https://nextjs.org/docs/app/building-your-application/optimizing/images) | ğŸ”´ | |
| [PrÃ©-renderizaÃ§Ã£o Parcial (PPR)](https://nextjs.org/docs/app/building-your-application/rendering/partial-prerendering) | ğŸŸ¢ | |
| [Pages Router](https://nextjs.org/docs/pages) | ğŸŸ¢ | |
| [GeraÃ§Ã£o EstÃ¡tica Incremental (ISR)](https://nextjs.org/docs/app/building-your-application/data-fetching/incremental-static-regeneration) | ğŸŸ¢ | |
| [Suporte para after](https://nextjs.org/blog/next-15-rc#executing-code-after-a-response-with-nextafter-experimental) | ğŸŸ¢ | |
| [Cache ComposÃ¡vel](https://nextjs.org/blog/composable-caching) | ğŸ”´ | ('use cache') |

:::note
As functions Azion tÃªm um limite mÃ¡ximo de tamanho de 50 MiB por funÃ§Ã£o. ApÃ³s compilar seu projeto, preste atenÃ§Ã£o ao tamanho comprimido (gzipped) do seu pacote de implantaÃ§Ã£o â€” apenas o tamanho comprimido conta para esse limite.
Para mais detalhes, consulte a [documentaÃ§Ã£o sobre limites de tamanho para FunÃ§Ãµes](/pt-br/documentacao/produtos/build/edge-application/edge-functions/#limites).
:::

### Exemplos

Para criar um novo aplicativo Next.js para Azion, vocÃª pode usar os seguintes projetos iniciantes e templates:

#### Projetos iniciantes bÃ¡sicos

- [Template Next.js + TypeScript + Tailwind](https://github.com/aziontech/azion-samples/tree/dev/templates/opennextjs/nextal-next-typescript-tailwind) â€” um template pronto para uso para construir aplicativos Next.js modernos nas FunÃ§Ãµes Azion.
- [Node Playground (Next.js 13)](https://github.com/aziontech/bundler-examples/tree/main/examples/nextjs/node-playground-13) â€” um exemplo mostrando como executar Next.js 13 em um ambiente Node.js na Azion.

VocÃª pode usar esses repositÃ³rios para entender como configurar seu aplicativo Next.js para rodar na Azion, ou como um ponto de partida para seus prÃ³prios projetos.

### Problemas conhecidos

#### ConfiguraÃ§Ã£o TS
- Seu `tsconfig.json` deve incluir a seguinte configuraÃ§Ã£o:
  
```json
"moduleResolution": "bundler"
```
  
  Se isso nÃ£o estiver configurado, vocÃª poderÃ¡ encontrar problemas durante o processo de build ou execuÃ§Ã£o.

- Existe um problema conhecido com ESM e o arquivo `open-next.config.ts`. Se vocÃª tem um projeto mais antigo ou que depende de uma versÃ£o especÃ­fica do TypeScript ou de uma configuraÃ§Ã£o customizada, pode ser necessÃ¡rio:
  - Reconfigurar seu projeto (por exemplo, definindo `moduleResolution: bundler` como acima), **ou**
  - Add the following to your `tsconfig.json`:

```json
"exclude": ["node_modules", "open-next.config.ts"]
```

Se isso funcionarÃ¡ depende da configuraÃ§Ã£o do seu projeto. Em alguns casos, excluir `open-next.config.ts` permite que o build prossiga, mas vocÃª ainda pode encontrar erros, especialmente se seu projeto usar funcionalidades como `_app.mdx` ou outras configuraÃ§Ãµes avanÃ§adas. Isso Ã© particularmente relevante para projetos que nÃ£o foram testados com essas configuraÃ§Ãµes, e problemas tambÃ©m podem ocorrer em outros ambientes (como o pacote Cloudflare).

#### Desenvolvimento Local

- Algumas aplicaÃ§Ãµes podem usar Node.js ou APIs PadrÃ£o Web que nÃ£o sÃ£o totalmente suportadas pelo ambiente de desenvolvimento local da Azion. Entretanto, esses recursos podem estar disponÃ­veis no runtime real da Azion.

:::tip
Se sua aplicaÃ§Ã£o nÃ£o funcionar como esperado durante o desenvolvimento local, tente implantÃ¡-la na Azion antes de continuar a soluÃ§Ã£o de problemas, pois ela pode funcionar corretamente no ambiente implantado.
:::

## Next.js 14.x.y

| Feature | Support | Comments |
|---|---|---|
| Static Pages | ğŸŸ¢ | |
| SSG | ğŸŸ¢ | |

---

## Azion Runtime 

### VersÃµes: 12.2.x, 12.3.x

| Suporte Pages Router | Suporte | ComentÃ¡rios |
|---|---|---|
| Static Pages | ğŸŸ¢ | |
| SSR | ğŸŸ¢ | |
| SSG | ğŸŸ¢ | |
| Edge API Routes | ğŸŸ¢ | |
| Dynamic Routes | ğŸŸ¢ | |
| Middleware | ğŸŸ¡ | Funcionalidades: rewrite, redirect, continue to response, set request header, throw error, set response header e set response cookie |
| Next configs | ğŸŸ¡ | Funcionalidades: rewrite before files, rewrite after files, rewrite fallback, redirects e header definition |
| i18n routing | ğŸŸ¢ | |

### VersÃµes: 13.0.x, 13.1.x, 13.2.x, 13.3.x, 13.4.x, 13.5.x

| Suporte Pages Router | Suporte | ComentÃ¡rios |
|---|---|---|
| Static Pages | ğŸŸ¢ | 
| SSR | ğŸŸ¢ | | 
| SSG | ğŸŸ¢ | | 
| Edge API Routes | ğŸŸ¢ | | 
| Dynamic Routes | ğŸŸ¢ | |
| Middleware | ğŸŸ¡ | Funcionalidades: rewrite, redirect, continue to response, set request header, throw error, return response, set response header e set response cookie | 
| Next configs | ğŸŸ¡ | Funcionalidades: rewrite before files, rewrite after files, rewrite fallback, redirects e header definition | 
| i18n routing | ğŸŸ¢ | | 
| Custom errors | ğŸŸ¢ | | 

<br />

| Suporte App Router | Suporte | ComentÃ¡rios |
|---|---|--- | 
| App router | ğŸŸ¢ | Basic structure, routing e layouts| 
| Server Components | ğŸŸ¢ | | 
| Route Handlers | ğŸŸ¢ | | 
| Dynamic Routes | ğŸŸ¢ | |
| Middleware  | ğŸŸ¡ | Funcionalidades: rewrite, redirect, continue to response, set request header, throw error e set response header e set response cookie |
| Next configs | ğŸŸ¡ | Funcionalidades: rewrite before files, rewrite after files, rewrite fallback, redirects e header definition  |
| i18n routing | ğŸŸ¢ | |
| Custom errors | ğŸŸ¢ | | 

---

## Node Runtime 

### VersÃµes: 12.3.x

| Suporte Pages Router | Suporte | ComentÃ¡rios |
|---|---|---| 
| Static Pages | ğŸŸ¢ | | 
| SSR | ğŸŸ¢ | | 
| SSG | ğŸŸ¢ | | 
| API Routes | ğŸŸ¢ | | 
| Dynamic Routes | ğŸŸ¢ | |
| Next configs  | ğŸŸ¡ | Funcionalidades: rewrite before files, rewrite after files, rewrite fallback, redirects e header definition | 
| i18n routing | ğŸŸ¢ | | 
| Custom errors | ğŸŸ¢ | | 

---

## Sobre o Next.js

**Next.js** Ã© um framework **React** que auxilia no desenvolvimento de aplicaÃ§Ãµes rÃ¡pidas e modernas. Pode ser usado para resolver:

- Routing
- Data Fetching
- IntegraÃ§Ãµes

Com o Next.js, vocÃª pode usar geraÃ§Ã£o estÃ¡tica por pÃ¡gina, utilizando **Incremental Static Regeneration (ISR)**, sem ter que realizar o processo de `rebuild` na aplicaÃ§Ã£o inteira. Isso significa que vocÃª pode aproveitar os benefÃ­cios da geraÃ§Ã£o estÃ¡tica e ainda ser capaz de escalar a aplicaÃ§Ã£o.

Uma **pÃ¡gina**, em Next.js, Ã© um **componente React** dentro de um arquivo. Esse arquivo utiliza uma das seguintes extensÃµes:

- `.js`
- `.jsx`
- `.ts`
- `.tsx`

Toda pÃ¡gina tem uma **rota** associada Ã  ela, baseada no nome do arquivo.

**Exemplo**:

Digamos que vocÃª crie `pages/azion.js` exportando um React component.

```js
  export default function Azion() {
    return <div>A maneira mais fÃ¡cil de construir, implantar, observar e proteger aplicaÃ§Ãµes modernas.</div>
  }
```

A pÃ¡gina pode ser acessada em `/azion`:

```js
pages/
    azion.js
```

---

## PrÃ©-renderizaÃ§Ã£o 

Com o Next.js, o HTML de cada pÃ¡gina Ã© gerado com antecedÃªncia, desonerando o lado do cliente deste trabalho. Como consequÃªncia, essa prÃ©-renderizaÃ§Ã£o ajuda sua aplicaÃ§Ã£o a ter uma performance potencializada e tambÃ©m a ter melhores Ã­ndices de Search Engine Optimization (SEO).

### Formas de prÃ©-renderizaÃ§Ã£o

- GeraÃ§Ã£o estÃ¡tica: durante o processo de `build`, o HTML Ã© gerado e reutilizado em cada requisiÃ§Ã£o.
- RenderizaÃ§Ã£o do lado servidor: o HTML Ã© gerado em cada requisiÃ§Ã£o. 

