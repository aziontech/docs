---
title: Exemplos MCP
description: >-
  Exemplos práticos e fluxos de trabalho para usar o Model Context Protocol (MCP)
  com assistentes de código IA para otimizar o desenvolvimento na Plataforma Azion.
meta_tags: 'mcp, exemplos, fluxos de trabalho, deploy, graphql, rules engine'
namespace: documentation_devtools_mcp_examples
menu_namespace: devtoolsMenu
permalink: /documentacao/devtools/mcp/exemplos/
---

import Tabs from '~/components/tabs/Tabs'
import Code from '~/components/Code/Code.astro'

Aprenda como aproveitar assistentes de código habilitados com MCP para tarefas comuns da Plataforma Azion.

---

## Deploy de site estático

Use linguagem natural para obter orientação passo a passo de deploy.

### Exemplo de conversa

<Tabs client:visible>
  <Fragment slot="tab.request">Solicitação</Fragment>
  <Fragment slot="tab.response">Resposta do Assistente</Fragment>

  <Fragment slot="panel.request">
    <Code lang="plaintext" code={`Você: "Tenho um site estático com arquivos HTML, CSS e JavaScript. 
Me ajude a fazer o deploy na Azion."`} />
  </Fragment>

  <Fragment slot="panel.response">
    O assistente irá:
    1. Usar a ferramenta `deploy_azion_static_site` para recuperar o guia de deploy
    2. Fornecer instruções passo a passo
    3. Guiá-lo através de:
       - Inicialização do projeto com `azion init`
       - Configuração do setup
       - Processo de build com `azion build`
       - Deploy com `azion deploy`
    4. Compartilhar a URL de produção após o deploy
  </Fragment>
</Tabs>

### O que acontece nos bastidores

1. Servidor MCP busca documentação de deploy
2. Retorna orientação contextual baseada no tipo do seu projeto
3. Fornece comandos específicos para deploy de site estático

---

## Criar queries de analytics

Gere queries GraphQL para Real-Time Metrics sem memorizar o schema.

### Exemplo: Análise de tráfego

<Tabs client:visible>
  <Fragment slot="tab.request">Solicitação</Fragment>
  <Fragment slot="tab.query">Query Gerada</Fragment>

  <Fragment slot="panel.request">
    <Code lang="plaintext" code={`Você: "Crie uma query GraphQL para mostrar o tráfego da minha aplicação 
dos últimos 7 dias, agrupado por edge location."`} />
  </Fragment>
  <Fragment slot="panel.query">
    <Code lang="graphql" code={`query TrafegoPorLocalizacao {
  httpMetrics(
    filter: {
      tsRange: {begin: "2025-01-02T00:00:00", end: "2025-01-09T00:00:00"}
    }
    groupBy: [edgeLocation]
    orderBy: [requestsCount_DESC]
  ) {
    edgeLocation
    requestsCount
    dataTransferredIn
    dataTransferredOut
    bandwidthMbps
  }
}`} />
  </Fragment>
</Tabs>

### Exemplo: Performance de cache

<Tabs client:visible>
  <Fragment slot="tab.request">Solicitação</Fragment>
  <Fragment slot="tab.query">Query Gerada</Fragment>

  <Fragment slot="panel.request">
    <Code lang="plaintext" code={`Você: "Gere uma query para analisar taxas de cache hit para minhas imagens."`} />
  </Fragment>
  <Fragment slot="panel.query">
    <Code lang="graphql" code={`query PerformanceCache {
  httpMetrics(
    filter: {
      tsRange: {begin: "2025-01-08T00:00:00", end: "2025-01-09T00:00:00"}
      requestUri: {like: "%.jpg%|%.png%|%.webp%"}
    }
    groupBy: [cacheStatus]
  ) {
    cacheStatus
    requestsCount
    dataTransferredOut
    averageRequestTime
  }
}`} />
  </Fragment>
</Tabs>

:::note
O assistente ajusta automaticamente intervalos de datas e filtros baseado em seus requisitos.
:::

---

## Configurar Rules Engine

Crie configurações complexas do Rules Engine usando descrições em linguagem natural.

### Exemplo: Headers de segurança

<Tabs client:visible>
  <Fragment slot="tab.request">Solicitação</Fragment>
  <Fragment slot="tab.config">Configuração Gerada</Fragment>

  <Fragment slot="panel.request">
    <Code lang="plaintext" code={`Você: "Crie regras do Rules Engine para adicionar headers de segurança incluindo 
HSTS, X-Frame-Options e CSP para minha aplicação."`} />
  </Fragment>
  <Fragment slot="panel.config">
    <Code lang="json" code={`{
  "rules": [
    {
      "name": "Headers de Segurança",
      "criteria": [
        {
          "conditional": "if",
          "variable": "\${uri}",
          "operator": "starts_with",
          "value": "/"
        }
      ],
      "behaviors": [
        {
          "name": "add_response_header",
          "target": "Strict-Transport-Security",
          "value": "max-age=31536000; includeSubDomains"
        },
        {
          "name": "add_response_header",
          "target": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "name": "add_response_header",
          "target": "Content-Security-Policy",
          "value": "default-src 'self'"
        }
      ]
    }
  ]
}`} />
  </Fragment>
</Tabs>

### Exemplo: Otimização de cache

<Tabs client:visible>
  <Fragment slot="tab.request">Solicitação</Fragment>
  <Fragment slot="tab.config">Configuração Gerada</Fragment>

  <Fragment slot="panel.request">
    <Code lang="plaintext" code={`Você: "Configure o Rules Engine para cachear assets estáticos por 1 ano 
e respostas da API por 5 minutos."`} />
  </Fragment>
  <Fragment slot="panel.config">
    <Code lang="json" code={`{
  "rules": [
    {
      "name": "Cache de Assets Estáticos",
      "criteria": [
        {
          "conditional": "if",
          "variable": "\${uri}",
          "operator": "matches",
          "value": "\\\\.(jpg|jpeg|png|gif|css|js|woff2?)$"
        }
      ],
      "behaviors": [
        {
          "name": "set_cache_policy",
          "target": "31536000",
          "browser_cache": true,
          "cdn_cache": true
        }
      ]
    },
    {
      "name": "Cache de API",
      "criteria": [
        {
          "conditional": "if",
          "variable": "\${uri}",
          "operator": "starts_with",
          "value": "/api/"
        }
      ],
      "behaviors": [
        {
          "name": "set_cache_policy",
          "target": "300",
          "browser_cache": false,
          "cdn_cache": true
        }
      ]
    }
  ]
}`} />
  </Fragment>
</Tabs>

---

## Buscar documentação

Obtenha respostas instantâneas sobre recursos e capacidades da Plataforma Azion.

### Queries comuns

| Query | Ferramenta Usada | Resultado |
|-------|------------------|-----------|
| "Como configuro proteção DDoS?" | `search_azion_docs_and_site` | Guia de configuração de DDoS Protection |
| "Me mostre exemplos de deploy Next.js" | `search_azion_code_samples` | Templates e exemplos Next.js |
| "Quais comandos CLI gerenciam edge functions?" | `search_azion_cli_commands` | Comandos CLI relacionados a Functions |
| "Como criar recursos Terraform?" | `search_azion_terraform` | Exemplos do provider Terraform |

---

## Solução de problemas em deploys

Obtenha ajuda para diagnosticar e corrigir problemas de deploy.

### Fluxo de exemplo

<Tabs client:visible>
  <Fragment slot="tab.problem">Problema</Fragment>
  <Fragment slot="tab.guidance">Orientação do Assistente</Fragment>

  <Fragment slot="panel.problem">
    <Code lang="plaintext" code={`Você: "Meu deploy está falhando com erro 503. Como posso debugar?"`} />
  </Fragment>
  <Fragment slot="panel.guidance">
    1. **Verificar logs de deploy**:
       <Code lang="bash" code={`azion logs --type edge --tail`} />
    
    2. **Verificar configuração da origem**:
       - O assistente busca docs de troubleshooting de origem
       - Fornece checklist de problemas comuns de origem
    
    3. **Testar conectividade da origem**:
       <Code lang="bash" code={`curl -I https://sua-origem.com`} />
    
    4. **Revisar Rules Engine**:
       - Verifica loops de redirect
       - Valida configurações de cache
    
    5. **Monitorar Real-Time Metrics**:
       - Gera query GraphQL para análise de erros
  </Fragment>
</Tabs>

---

## Deploys específicos por framework

Obtenha orientação personalizada para seu framework específico.

### Frameworks suportados

O servidor MCP fornece orientação especializada para:

- **Next.js**: Configuração SSR/SSG, rotas de API, middleware
- **React**: Deploy de SPA, configuração de roteamento
- **Vue.js**: Otimização de build, configuração de history mode
- **Angular**: Builds de produção, service workers
- **Astro**: Modos estático e SSR, integrações
- **Remix**: Deploy edge, carregamento de dados
- **SvelteKit**: Configuração de adapter, endpoints

### Exemplo: Next.js com ISR

<Code lang="plaintext" code={`Você: "Faça deploy da minha app Next.js com Incremental Static Regeneration"`} />