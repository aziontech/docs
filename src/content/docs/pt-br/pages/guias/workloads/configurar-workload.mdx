---
title: Como configurar um Workload
description: >-
  Use Azion Worklaods para habilitar acesso à sua aplicação por um domínio.
meta_tags: 'Workloads, edge computing, edge network, custom domain'
namespace: docs_guides_configure_workload
permalink: /documentacao/produtos/guias/configurar-um-workload/
---

import Tabs from '~/components/tabs/Tabs'


Com a Azion, você pode criar e executar aplicações diretamente no edge. Para permitir o acesso à sua aplicação através do navegador e começar a receber usuários e monitorar métricas, você precisa configurar um [Workload](/pt-br/documentacao/produtos/secure/workloads/).

A Azion fornece um endereço de Workload no formato `xxxxxxxxxx.map.azionedge.net`. Você pode usá-lo para acesso ou, se você já possui um domínio, pode [redirecionar seu tráfego para a Azion](/pt-br/documentacao/produtos/guias/apontar-dominio-para-a-azion) configurando os registros no seu provedor DNS e listando seus **domínios personalizados**. Você também pode criar um `Azion Custom Domain` que permite configurar um domínio personalizado para sua aplicação usando o formato `example.azion.app` para personalizar o endereço da sua aplicação com uma URL amigável ao usuário.

---

## Criando um Workload

<Tabs client:visible>
    <Fragment slot="tab.console">Console</Fragment>
    <Fragment slot="tab.api">API</Fragment>

<Fragment slot="panel.console">
Quando você cria uma aplicação [utilizando um template](/pt-br/documentacao/produtos/comecar-com-um-template), sua aplicação é automaticamente associada com um Workload. 

Para criar um novo Workload:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Workloads**.
2. Clique no botão **+ Workload**.
3. Dê um nome a seu Workload.
4. Selecione a **Infrastructure** para seu Workload: **Production Infrastructure** ou **Staging Infrastructure** (ambiente para testes).
5. Defina os hostnames da sua aplicação nos campos **Subdomain** e **Domain**. Você pode utilizar endereços de [domínios personalizados](#vincule-um-dominio-personalizado-a-sua-application) para vincular à sua aplicação.
6. Em **Edge Application**, selecione sua Edge Application.
7. Em **Edge Firewall**, selecione your edge firewall.
8. Em **Digital Certificate**, selecione, crie um novo, ou use o certificado Azion SAN se você pretende usar o Azion Custom Domain ou o Workload Domain.
9.  Clique no botão **Save**.

Aguarde alguns minutos para que seu novo Workload se propague para os edge nodes e acesse o endereço `xxxxxxxxxx.map.azionedge.net` para visualizar sua edge application online.

</Fragment>

<Fragment slot="panel.api">

1. Execute a seguinte requisição `POST`, substituindo `[TOKEN VALUE]` pelo seu [personal token](/pt-br/documentacao/produtos/guias/personal-tokens/).

```bash
curl --location 'https://api.azionapi.net/domains' \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]'\
--header 'Content-Type: application/json' \
--data '{
    "name": "Example CN0 DC0",
    "cname_access_only": false,
    "digital_certificate_id": null,
    "edge_application_id": <edge_application_id>
}'
```

<Code lang="bash" code={`{curl --request POST \
  --url https://api.azion.com/v4/workspace/workloads \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]]' \
  --header 'Content-Type: application/json' \
  --data '{
  "name": "Example CN0 DC0",
  "active": true,
  "infrastructure": 1,
  "protocols": {
    "http": {
      "versions": [
        "http1",
        "http2"
      ]
    }
  },
  "workload_domain_allow_access": true
  }
}' />


  | Chave | Descrição |
  | --- | --- |
  | `name` | Define a string no valor como um nome da entrada do domínio com a Azion. Como este valor não representa um endereço de domínio, você pode modificá-lo para se adequar às suas necessidades. |
  | `workload_domain_allow_access` | Quando definido como `true`, permite o acesso via endereço Azion `xxxxxxxxxx.map.azionedge.net`. |
  | `infrastructure` | Infraestrutura para seu Workload: **Production Infrastructure** (1) ou **Staging Infrastructure** (2). |
  | `digital_certificate_id` | Quando `null`, seleciona o certificado Azion SAN. Você também pode [associar um certificado digital](/pt-br/documentacao/produtos/guias/criar-certificado-digital/) a seu Workload. |

2. Você receberá uma resposta semelhante a:

<Code lang="json" code={`{
  "state": "pending",
  "data": {
    "id": <workload_id>,
    "name": "Example CN0 DC0",
    "active": true,
    "last_editor": "education@azion.com",
    "last_modified": "2025-07-25T18:58:25.817955Z",
    "infrastructure": 1,
    "tls": {
      "certificate": null,
      "ciphers": 7,
      "minimum_version": "tls_1_3"
    },
    "protocols": {
      "http": {
        "versions": [
          "http1",
          "http2"
        ],
        "http_ports": [
          80
        ],
        "https_ports": [
          443
        ],
        "quic_ports": null
      }
    },
    "mtls": {
      "verification": null,
      "certificate": null,
      "crl": null
    },
    "domains": [],
    "workload_domain_allow_access": true,
    "workload_domain": "xxxxxxxxxxx.azionedge.net",
    "product_version": "1.0"
  }
}' />

3. Copie a URL no campo `workload_domain` e cole em um editor de texto para acessar posteriormente. 

4. Agora você deve vincular o Workload criado a uma Edge Application. Isso é feito criando um Workload Deployment. Execute a seguinte requisição `POST` em seu terminal, substituindo [TOKEN VALUE] pelo seu token pessoal, <edge_application_id> pelo ID da Edge Application desejada e <workload_id> pelo ID do Workload que você criou na etapa anterior.

<Code lang="bash" code={`{curl --request POST \
  --url https://api.azion.com/v4/workspace/workloads/<workload_id>/deployments \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]]' \
  --header 'Content-Type: application/json' \
  --data '{
  "name": "My Workload Deployment",
  "current": true,
  "active": true,
  "strategy": {
    "type": "default",
    "attributes": {
      "edge_application": <edge_application_id>
    }
  }
}' />

5. O `workload_domain` recebido na resposta carrega o endereço do domínio Azion da sua application como uma string. Aguarde alguns minutos para que as alterações se propaguem e cole essa URL em seu navegador para acessar a aplicação.


:::tip
Confira a [documentação da API da Azion](https://api.azion.com/v4#) e a [especificação OpenAPI](https://github.com/aziontech/azionapi-openapi/) para saber mais sobre todos os recursos disponíveis via API.
:::
</Fragment>

</Tabs>

---

## Vincule um domínio personalizado à sua aplicação

Além do Workload Azion padrão, você tem a opção de associar um **domínio personalizado** no formato CNAME, como `seudominio.com`, à sua aplicação. Isso permite que você personalize o nome do domínio que os usuários usarão para acessar sua aplicação.

Quando um usuário insere o nome do domínio em seu navegador, é iniciado um processo de DNS lookup. Durante esse processo, o navegador do usuário envia uma requisição a um servidor DNS para encontrar o endereço IP associado ao domínio. Logo, o servidor DNS verifica sua base de dados para encontrar o endereço IP correspondente ao nome do domínio. Se o domínio estiver configurado para apontar para o domínio Azion, o servidor DNS retorna o endereço IP do edge node mais próximo na edge network.

Uma vez que o navegador recebe o endereço IP, ele estabelece uma conexão com o edge node apropriado. O edge node então serve o conteúdo solicitado e o navegador entrega a edge application.

Para personalizar o domínio de sua Edge Application, você pode optar por [associar um registro de domínio](/pt-br/documentacao/produtos/guias/apontar-dominio-para-a-azion/) ou [migrar nameservers para a Azion](/pt-br/documentacao/produtos/guias/migrar-ns-para-a-azion/).

