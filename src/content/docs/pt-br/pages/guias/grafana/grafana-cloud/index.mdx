---
title: Como consultar dados da GraphQL no Grafana Cloud
description: Com a Azion GraphQL API, você pode visualizar seus dados no Grafana Cloud usando o GraphQL Data Source e adicionando queries com os conjuntos de dados e variáveis disponíveis.
meta_tags: graphql, grafana, data, observability
namespace: docs_graphql_grafana_cloud
permalink: /documentacao/produtos/guias/graphql-grafana-cloud/
---

:::caution[atenção]
O plugin do Grafana descrito neste guia **não é** criado ou gerenciado pela Azion. É uma possível ferramenta para usuários que desejam utilizar a plataforma Grafana Cloud.

A Azion foca uma abordagem on-premise. Para usar o plugin do Grafana criado e gerenciado pela Azion, consulte [Como personalizar um dashboard com o plugin da Azion no Grafana](/pt-br/documentacao/produtos/guias/azion-plugin-grafana/).
:::

Com a [Azion GraphQL API](pt-br/documentacao/produtos/guias/graphql-grafana-cloud/), você pode visualizar seus dados no [Grafana Cloud](https://grafana.com/) usando o [GraphQL Data Source](https://grafana.com/grafana/plugins/fifemon-graphql-datasource/) e adicionando queries com os [conjuntos de dados e variáveis](/en/documentation/products/graphql-api-features/#datasets) disponíveis.

---

## Pré-requisitos

Para usar a GraphQL no Grafana Cloud, você precisa de:

- Uma conta [do Real-Time Manager](https://manager.azion.com/) na Azion.
- Um [personal token](/pt-br/documentacao/produtos/gestao-de-contas/personal-tokens/) criado para autenticar sua conta.
- Uma ou mais [edge applications](/pt-br/documentacao/produtos/edge-application/) criadas em sua conta.
- [Acesso ao Grafana](https://grafana.com/).
- [O GraphQL Data Source instalado](https://grafana.com/grafana/plugins/fifemon-graphql-datasource/).

---

## Instalar o GraphQL data source no Grafana Cloud

Depois de concluir a configuração dos pré-requisitos da Azion e ter acesso ao Grafana, siga as próximas etapas:

1. Acesse sua conta do Grafana.
2. Vá para a [página GraphQL Data Source](https://grafana.com/grafana/plugins/fifemon-graphql-datasource/).
3. No menu superior, selecione a aba **Installation**.
4. No campo **For**, selecione a instância do Grafana na qual deseja instalar o plugin.
5. Clique no botão **Install plugin**.

Para mais informações, consulte a documentação do Grafana sobre [instalação de plugins](https://grafana.com/docs/grafana/v8.4/plugins/installation/).

Você também pode usar [a CLI para instalar um plugin](https://grafana.com/docs/grafana/v8.4/administration/cli/#plugins-commands).

Se você acessar sua instância diretamente através de seu link, vá direto para as etapas relacionadas ao acesso no menu à esquerda. Se você criou uma conta no site da Grafana, vá para o ambiente **My Account** e siga as próximas etapas:

1. Na página **Overview** do seu **Portal do Grafana Cloud**, na segunda seção, você verá o nome do seu stack.
2. No card **Grafana**, clique em **Launch**.

Seu stack abrirá em outra página.

1. No menu do lado esquerdo, no menu suspenso **Connections**, selecione **Add new connection**.
2. Na caixa de pesquisa, digite `GraphQL Data Source`; ele aparecerá abaixo de **Data sources**.
3. Selecione o card `GraphQL Data Source`.
4. Clique no botão **Create a GraphQL Data Source data source**. Uma nova página abrirá para configurar sua fonte de dados.

---

## Configurar o data source

Com a página do GraphQL Data Source aberta no Grafana Cloud, na aba **Settings**:

1. Em **Name**, dê um nome descritivo ao seu data source.
2. Abaixo de **HTTP**:
   - Em **URL**, adicione `https://api.azionapi.net/metrics/graphql` ou `https://api.azionapi.net/events/graphql`.
   - Em **Custom HTTP Headers**, clique em **+ Add header** *duas vezes*.
   - No primeiro **Header**, no primeiro campo, adicione **Authorization**, e no segundo campo, adicione seu personal token do RTM. Ele é semelhante a: `Token azionfkr40c7rp75d7df21e18d5c19el8f01`
   - No segundo **Header**, no primeiro campo, adicione **Content-Type**, e no segundo campo, adicione `application/json`.

3. Clique em **Save & test**. O Grafana irá executar um teste rápido para verificar se sua autenticação está correta.

---

## Criar um dashboard

1. No menu do lado esquerdo, clique em **Dashboards**. A página do dashboard abrirá.
2. Ao lado da barra de pesquisa, clique em **New** > **New Dashboard** ou **Import**.

Se você selecionar **New Dashboard**:

1. No painel, selecione **+ Add visualization**.
2. Na lista de data sources, selecione **GraphQL Data Source**.
3. Na caixa de query, adicione a query da Azion GraphQL API que você quer usar.

Se você selecionar **Import**:

1. Na página **Import dashboard**, selecione uma opção:
  - Faça upload de um arquivo JSON no card **Upload dashboard JSON file**.
  - Faça upload de um JSON através de **Import via grafana.com**.
  - Faça upload de um JSON através de **Import via panel json**.
2. Clique no botão **Import** ou **Load**, dependendo da sua escolha anterior.

Você pode personalizar seu dashboard utilizando o painel do lado direito. Você pode alterar o tipo de gráfico de time series para bar chart, por exemplo, as legendas do gráfico ou até mesmo o estilo do gráfico. O Grafana também tem outros recursos, como anotações.

Veja [Exemplo JSON para dashboard de Data Transferred no Grafana](/pt-br/documentacao/produtos/real-time-metrics/data-transferred-dash/) para obter um dashboard pronto para uso.

---

## Marca registrada

[Grafana Cloud](https://grafana.com/products/cloud/) é marca registrada de Grafana Labs. Não somos afiliados, endossados ou patrocinados por Grafana Labs ou suas afiliadas.



---

import ContributorList from '~/components/ContributorList.astro'

**Contribuidores** <ContributorList>Contributor</ContributorList>
