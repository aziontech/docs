---
title: 'Como criar listas de bloqueio de IP, ASN e geolocalização com Network Lists'
description: >-
  Gerencie listas de liberação e bloqueio a partir de IPs, ASNs e
  geolocalizações dos usuários com Network Shield e Network Lists.
namespace: docs_use_case_blacklists_ip_addresses_edge
permalink: /documentacao/produtos/guias/blocklists-enderecos-ip-edge/
---

import LinkButton from 'azion-webkit/linkbutton'
import Tabs from '~/components/tabs/Tabs'


**Network Shield** é um módulo de **Firewall** que possibilita a criação de **Network Lists**, para permitir (*allowlists*) ou bloquear (*blocklists*) usuários de interagir com suas applications na Azion.

As Network Lists podem ser baseadas em endereços de IP, ASN e geolocalização do usuário. Elas podem feitas considerando o escopo real da aplicação, ou desenvolvidos e mantidos pela Azion, como a lista de *IPs da rede Tor*.

<LinkButton link="/pt-br/documentacao/produtos/secure/edge-firewall/network-layer-protection/network-lists/" label="saiba mais sobre Network Lists" severity="secondary" />
<br/>
<LinkButton link="/pt-br/documentacao/produtos/secure/edge-firewall/network-layer-protection/" label="saiba mais sobre o Network Shield" severity="secondary" />

Existem instruções separadas usando configurações de [Domains legados](/pt-br/documentacao/produtos/build/edge-application/domains/) e usando o novo produto [Workloads](/pt-br/documentacao/produtos/secure/workloads).

:::tip
Se você não tem certeza de quais etapas se aplicam à sua conta, consulte [o guia Verificar Migração da Conta](/pt-br/documentacao/produtos/guias/verificar-migracao-conta/) para determinar se sua conta já foi migrada.
:::

---

Para criar, gerenciar e utilizar Network Lists, siga os passos:

1. Crie um firewall com o módulo **Network Shield** habilitado.
2. Crie uma **Network List**.
3. Associe esta Network List ao **Rulse Engine** de um firewall.

## Crie um firewall

Para criar um novo firewall com o módulo **Network Shield** ativado:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Firewall**.
2. Clique no botão **+ Firewall**.
3. Escreva o nome de identificação do firewall no campo **Name**.
4. Certifique-se de que o switch **Network Shield** esteja habilitado na seção **Modules**.
5. Em **Status**, certifique-se de que o switch **Active** esteja habilitado.
6. Clique no botão **Save**.

<Tabs client:visible>
    <Fragment slot="tab.consoleworkloads">Console - Workloads</Fragment>
    <Fragment slot="tab.consoledomains">Console - Domains</Fragment>

<Fragment slot="panel.consoleworkloads">

Para vincular o Firewall a um Workload:

1. Ainda no Console, vá para **Products Menu** > **Workloads**
2. Em **Settings** selecione o firewall que você criou.
3. Clique no botão **Save**.

</Fragment>

<Fragment slot="panel.consoledomains">

Para vincular o Firewall a um Domain:

1. Ainda no Console, vá para **Products Menu** > **Domains**
2. Em **Settings** selecione o firewall que você criou.
3. Clique no botão **Save**.

</Fragment>
</Tabs>

### Ative o módulo Network Shield

Para firewalls já criados, siga os passos:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Firewall**.
2. Na lista de firewalls, selecione o firewall que você deseja adicionar a uma **Network List**.
3. Na aba **Main Settings**, habilite o switch **Network Shield**.
4. Clique no botão **Save**.


---

## Crie uma Network List

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Network Lists** na seção **Edge Libraries**, .
- Ao abrir a página de Network Lists, todas as listas criadas pelo usuário e as fornecidas automaticamente pela Azion serão exibidas.
2. Clique no botão **+ Network List**.
3. Preencha os seguintes campos:

| Campo | Descrição |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `Name` | Nome de identificação da sua Network List. Esse nome aparecerá na lista de opções na seção *Criteria*, na configuração do **Rules Engine do Firewall** |
| `Type` | Tipo da Netrwork List: <br />  `Autonomous System Number (ASN)` <br /> `Countries` <br />  `IP/CIDR` |
| `List` | Adicione os itens que comporão sua lista aqui |

Para os tipos de lista `ASN` e `IP/CIDR`, será exibido um campo de texto. Os itens da lista devem ser separados por linha e você deve escrever um endereço por linha. Itens duplicados serão excluídos.
Para o tipo `Countries`, será apresentada uma lista de seleção de países.

4. Clique no botão **Save**.

Exemplo de lista do tipo IP/CIDR:

```
123.456.789.1
123.456.789.2/32
10.1.1.0/16
```

---

## Associe a Network List a um firewall

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Firewall**.
2. Selecione o firewall que você criou ou configurou na [primeira seção](#crie-um-edge-firewall-rule-set).
3. Selecione a aba **Rules Engine**.
4. Clique no botão **+ Rule Engine**.
5. Escreva o nome e a descrição.
6. Na seção **Criteria**, escolha o *operador lógico*, a *variável*, o *operador de comparação* e o nome da *network list* nos menus suspensos para seguir esta lógica:

```
[If]: [Network] [matches] [Network List identification name]
```

7. Na seção **Behavior**, selecione `Drop (Close Without Response)`.
8. Certifique-se de que o switch **Active** esteja habilitado.
9. Clique no botão **Save**.

Neste exemplo, se as condições definidas pelas regras forem atendidas, o comportamento derruba (*drop*) a requisição, sem enviar nenhum retorno ao usuário que a fez.

---
