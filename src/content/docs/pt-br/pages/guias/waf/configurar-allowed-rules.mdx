---
title: Como configurar uma WAF Custom Allowed Rule
description: >-
  A configuração de uma WAF Custom Allowed Rule permite criar regras específicas
  para as necessidades da sua application.
meta_tags: 'secure, WAF, WEB Application Firewall, cybersegurança, ameaças'
namespace: docs_guides_configure_waf_allowed_rules
menu_namespace: secureMenu
permalink: /documentacao/produtos/guias/secure/configurar-waf-allowed-rules/
---

import LinkButton from 'azion-webkit/linkbutton';


Configurar uma **WAF Custom Allowed Rule** permite criar regras específicas para as necessidades da sua application. Essas regras permitem tráfego legítimo específico enquanto mantêm uma proteção robusta contra ataques maliciosos.

Este guia explica como configurar uma WAF Custom Allowed Rule através da Azion Web Platform.

<LinkButton link="/pt-br/documentacao/produtos/secure/firewall/web-application-firewall/custom-allowed-rules/" text="saiba mais sobre as WAF Custom Allowed Rules" severity="secondary" />

---

## Pré-requisitos

Para instanciar WAF Custom Allowed Rules em um WAF Rule Set, você deve ter:

- Um [firewall](/pt-br/documentacao/produtos/guias/secure/firewall-definir-main-settings/) com o módulo **Web Application Firewall** ativado.
- Um [WAF Rule Set](/pt-br/documentacao/produtos/guias/secure/criar-waf-rule-set/) configurado.

---

## Configure uma WAF Custom Allowed Rule

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **WAF Rules** em **Edge Libraries**.
2. Crie um [novo WAF Rule Set](/pt-br/documentacao/produtos/secure/firewall/web-application-firewall/rule-sets/) ou selecione um existente.
3. Selecione a aba **Allowed Rules**.
4. Clique no botão **+ Allowed Rule**. 
5. Selecione o **Rule ID** que deseja usar.
    - Verifique a lista de todas as [regras internas disponíveis](/pt-br/documentacao/produtos/secure/firewall/web-application-firewall/custom-allowed-rules/).
6. Digite uma descrição para explicar o motivo pelo qual essa regra foi permitida.
7. Na seção **Match Zone Set**, configure o comportamento que deve ser usado para permitir uma regra:
    - Em **Path**, configure o comportamento que deve ser usado para permitir uma regra. Exemplo: `/api/v1/resources/*`.
    - Em **Match Zones**, selecione a parte da requisição para corresponder, como cabeçalhos, corpo, etc.
        - De acordo com a opção, você pode preencher campos adicionais para adicionar um valor específico representando a opção de correspondência e as correspondências para o valor ou o nome da chave. Leia mais sobre os [campos das Allowed Rules](/pt-br/documentacao/produtos/secure/firewall/web-application-firewall/#allowed-rules).
    - Se necessário, ative o switch **Regex** para tratar campos condicionais como expressões regulares em todas as Match Zones. 
8. Habilite o switch **Status**.
9. Clique no botão **Save**.

:::tip
Você pode configurar uma Custom Allowed Rule com base nos registros de WAF Tuning. Consulte o guia sobre [Como fazer o tuning do WAF](/pt-br/documentacao/produtos/guias/secure/tune-waf/) para mais informações.
:::

---


