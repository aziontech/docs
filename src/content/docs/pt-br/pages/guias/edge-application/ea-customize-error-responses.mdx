---
title: Como personalizar páginas de erro
description: >-
  Configure páginas de erro personalizadas para seus usuários baseadas em códigos de status HTTP.
  Disponível via Custom Pages (novo) ou Error Responses (legacy).
meta_tags: 'personalizar, página, resposta de erro, custom pages'
namespace: documentation_how_to_configurations_customizing_error_response_page
permalink: /documentacao/produtos/guias/personalizar-pagina-resposta-erro/
---

import Tabs from '~/components/tabs/Tabs'
import Code from '~/components/Code/Code.astro'
import LinkButton from 'azion-webkit/linkbutton'
import Apiv4Rollout from '~/includes/snippets/apiv4Rollout/pt/snippet.mdx'

<Apiv4Rollout />

Configure páginas de erro personalizadas que são entregues quando requisições retornam códigos de status HTTP 4xx ou 5xx. Existem instruções separadas para [Custom Pages](/pt-br/documentacao/produtos/secure/custom-pages/) (novo) e [Error Responses](/pt-br/documentacao/produtos/build/edge-application/error-responses/) (legacy).

:::tip
Se não tiver certeza de quais passos se aplicam à sua conta, consulte [este guia](/pt-br/documentacao/produtos/guias/verificar-migracao-conta/) para determinar se sua conta já foi migrada.
:::

---

## Personalizando páginas de erro

<Tabs client:visible>
<Fragment slot="tab.consoleworkloads">Console - Workloads</Fragment>
<Fragment slot="tab.consoledomain">Console - Domains</Fragment>
<Fragment slot="tab.apiv4">API v4</Fragment>

<Fragment slot="panel.consoleworkloads">

Para configurar Custom Pages:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Workloads**.
2. Selecione o workload para suas páginas de erro.
3. Navegue até **Deployment Settings**.
4. Em **Custom Pages**, clique em **+ Custom Page** ou selecione uma existente.
5. Dê um nome à sua Custom Page.
6. Configure o **Status Code** que deseja personalizar.
7. Defina o **Response TTL** em segundos para duração do cache.
8. Em **Page Path (URI)**, adicione o caminho para sua página de erro personalizada.
9. Selecione o **Edge Connector** apropriado para servir a página de erro.
10. Opcionalmente, personalize o **Response Status Code** que os usuários receberão.
11. Clique em **Save**.

<LinkButton link="/pt-br/documentacao/produtos/secure/custom-pages/" label="Saiba mais sobre Custom Pages" severity="secondary" />

</Fragment>

<Fragment slot="panel.consoledomain">

Para configurar Error Responses:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Edge Application**.
2. Selecione a aplicação vinculada ao domínio que necessita da nova página de erro.
3. Selecione a aba **Error Responses**.
4. O primeiro campo **Status Code** está desabilitado, mas em **Default Response TTL** você pode definir o *time-to-live* (TTL), em segundos, para o cache de todas as páginas de erro.
    - O primeiro código de status da lista é reservado para a definição de cache de páginas cujo erro não foi contemplado pela aplicação.
5. Para personalizar códigos de erro específicos, clique no botão **+ Add Error Response**.
6. No novo campo **Status Code**, selecione o código de status que você deseja customizar.
7. Altere o TTL de cache no campo **Custom Response TTL**.
   - Você pode manter o mesmo TTL de cache definido no campo anterior ou adicionar um TTL diferente.
8. No campo **Page Path**, você pode adicionar um *path* para uma página de erro criada na origem.
9. No campo **Response Status Code**, você pode customizar o status HTTP que será recebido pelo usuário.
10. Na seção **Set Origin**, você pode definir a origem das URIs das páginas de erro.
    - Você pode configurar as origens na aba **Origins** da aplicação.
11. Clique no botão **Save**.

<LinkButton link="/pt-br/documentacao/produtos/build/edge-application/error-responses/" label="Saiba mais sobre Error Responses" severity="secondary" />

</Fragment>

<Fragment slot="panel.apiv4">

1. Execute a seguinte requisição `POST` para criar uma Custom Page, substituindo `[TOKEN VALUE]` pelo seu [personal token](/pt-br/documentacao/produtos/guias/personal-tokens/):

<Code lang="bash" code={`curl --request POST \\
  --url https://api.azion.com/v4/workspace/custom_pages \\
  --header 'Accept: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --header 'Content-Type: application/json' \\
  --data '{
    "name": "Página de erro 404",
    "active": true,
    "pages": [{
      "code": "404",
      "page": {
        "type": "page_connector",
        "attributes": {
          "connector": <edge_connector_id>,
          "ttl": 300,
          "uri": "/error/404.html",
          "custom_status_code": 404
        }
      }
    }]
  }'`} />

2. Você receberá uma resposta com os detalhes da Custom Page.

3. Vincule a Custom Page a um Workload Deployment:

<Code lang="bash" code={`curl --request POST \\
  --url https://api.azion.com/v4/workspace/workloads/<workload_id>/deployments \\
  --header 'Accept: application/json' \\
  --header 'Authorization: Token [TOKEN VALUE]' \\
  --header 'Content-Type: application/json' \\
  --data '{
    "name": "Workload Deployment com Custom Pages",
    "current": true,
    "active": true,
    "strategy": {
      "type": "default",
      "attributes": {
        "edge_application": <edge_application_id>,
        "custom_page": <custom_page_id>
      }
    }
  }'`} />

:::tip
Consulte a [documentação da API Custom Pages](https://api.azion.com/v4#/operations/GetWorkspaceCustomPages) para mais detalhes.
:::

</Fragment>

</Tabs>

Pronto. Sua aplicação agora exibirá páginas de erro personalizadas com a nova configuração.

<LinkButton link="/pt-br/documentacao/produtos/build/edge-application/error-responses/" label="Saiba mais sobre Error Responses" severity="secondary" />

Para personalizar a página de resposta de erro, siga os passos:

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Edge Application**.
2. Selecione a aplicação vinculada ao domínio que necessita da nova página de erro.
3. Selecione a aba **Error Responses**.
4. O primeiro campo **Status Code** está desabilitado, mas em **Default Response TTL** você pode definir o *time-to-live* (TTL), em segundos, para o cache de todas as páginas de erro.
    - O primeiro código de status da lista é reservado para a definição de cache de páginas cujo erro não foi contemplado pela aplicação.
5. Para personalizar códigos de erro específicos, clique no botão **+ Add Error Response**.
6. No novo campo **Status Code**, selecione o código de status que você deseja customizar.
7. Altere o TTL de cache no campo **Custom Response TTL**.
   - Você pode manter o mesmo TTL de cache definido no campo anterior ou adicionar um TTL diferente.
8. No campo **Page Path**, você pode adicionar um *path* para uma página de erro criada na origem.
9. No campo **Response Status Code**, você pode customizar o status HTTP que será recebido pelo usuário.
10. Na seção **Set Origin**, você pode definir a origem das URIs das páginas de erro.
    - Você pode configurar suas origens na aba **Origins** da aplicação.
11. Clique no botão **Save**.

Pronto. Sua página de resposta de erro será exibida com a nova configuração.

---
