---
title: Como listar objetos em um bucket do Object Storage
description: Descubra como listar objetos em um bucket do Object Storage com este guia.
meta_tags: Object Storage, cloud storage, s3 bucket, file storage, list objects, Azion Object Storage, object storage
namespace: documentation_products_store_storage_object_storage_list
permalink: /documentacao/produtos/store/storage/listar-objetos/
menu_namespace: storeMenu
---

Este guia descreve como listar objetos de um bucket do Object Storage usando o [Console](https://console.azion.com/object-storage), a [API da Azion](https://api.azion.com/), [Azion CLI](/pt-br/documentacao/produtos/azion-cli/visao-geral/), e [Azion Runtime](/pt-br/documentacao/runtime/api-reference/storage/).

import Tabs from '~/components/tabs/Tabs'
import LinkButton from 'azion-webkit/linkbutton'
import Code from '~/components/Code/Code.astro'

## Listando os objetos de um bucket

<Tabs client:visible>
    <Fragment slot="tab.console">Console</Fragment>
    <Fragment slot="tab.cli">Azion CLI</Fragment>
    <Fragment slot="tab.runtime">Azion Runtime</Fragment>
    <Fragment slot="tab.api">API</Fragment>

<Fragment slot="panel.console">

Acesse o [Console da Azion](https://console.azion.com/object-storage) e siga os passos abaixo:

    1. No menu lateral, clique em **Object Storage**.
    2. Na página Object Storage, clique no bucket que deseja listar os objetos.
    3. Na página do bucket, você verá a lista de objetos.

    ![Listar objetos](/assets/docs/images/uploads/listar-objects-bucket-console.png)

</Fragment>

<Fragment slot="panel.cli">

## Requisitos

- [Azion CLI instalada](/pt-br/documentacao/produtos/azion-cli/visao-geral/#instalar-a-azion-cli). 
- [Um personal token configurado](/pt-br/documentacao/devtools/cli/globals/#token).

Para listar os objetos em um bucket do Object Storage:

```bash 
azion list edge-storage object --bucket-name bucketname 
```

</Fragment>

<Fragment slot="panel.api">

Para listar os objetos em um bucket, execute a seguinte requisição `GET` no seu terminal, substituindo `[TOKEN VALUE]` pelo seu [personal token](/pt-br/documentacao/produtos/guias/personal-tokens/) e `<bucket_name>` pelo nome do seu bucket:

<Code lang="bash" code={`
curl --location 'https://api.azion.com/v4/storage/buckets/<bucket_name>/objects?page_size=10&page=1' \
--header 'Accept: application/json' \
--header 'Authorization: Token [TOKEN VALUE]'
`} />

Você deve receber a seguinte resposta:

```json
{
  "continuation_token": null,
  "results": [
    {
      "key": "index.html",
      "last_modified": "2024-01-18T18:47:18.886000Z",
      "size": 217
    }
  ]
}
```

</Fragment>

<Fragment slot="panel.runtime">

Você pode criar uma function para listar os objetos em um bucket:

1. Acesse [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Funções de Borda**.
2. Clique no botão **+ Functions**.
3. Dê um nome para sua função. Por exemplo: `list-objects`.
4. Na guia **Code**, adicione o seguinte código JavaScript:

```js
import Storage from "azion:storage";

async function handleRequest(event) {
    try{
        const bucket = "mybucket";
        const storage = new Storage(bucket);
        const objectsList = await storage.list();
        for (const entry of objectsList.entries) {
            console.log(`key: ${entry.key} length: ${entry.content_length}`);
        }
        return new Response("Ok");
    }catch(error){
        return new Response(error, {status:500});
    }
}

addEventListener("fetch", (event) => {
    event.respondWith(handleRequest(event));
});
```

:::note 
Lembre-se de substituir "mybucket" pelo nome do seu bucket.
:::

5. Clique no botão **Save**.

:::note
Consulte a [referência da API do Object Storage](/pt-br/documentacao/runtime/api-reference/storage/) para obter mais detalhes sobre as funções disponíveis para outros tipos de requisições.
:::

Uma vez que a function estiver pronta, você precisa criar uma application que irá servir de proxy para o processo de listagem para o bucket e instanciar a function.

<LinkButton link="/pt-br/documentacao/produtos/build/applications/primeiros-passos/" label="Primeiros passos de Applications" severity="secondary" target="_blank" />
<LinkButton link="/pt-br/documentacao/produtos/guias/build/instanciar-functions/" label="Consulte o guia de como instanciar functions" severity="secondary" target="_blank" />

</Fragment>
</Tabs>
