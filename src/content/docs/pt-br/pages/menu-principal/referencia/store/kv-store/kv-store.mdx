---
title: KV Store
description: >-
  
meta_tags: 'kv, armazenamento, chave, distribuído, consultas'
namespace: docs_edge_sql
permalink: /documentacao/produtos/store/kv-store/
---

import Tag from 'primevue/tag'
import LinkButton from 'azion-webkit/linkbutton'

<Tag severity="info" client:only="vue">
  Previsualização
</Tag>


## Visão Geral

KV Store é um serviço de armazenamento de chave-valor distribuído que opera em toda a rede de borda da Azion. Ele permite que você persista e recupere pequenos pedaços de dados com muito baixa latência de qualquer lugar onde seus usuários estejam, sem precisar gerenciar servidores.

Casos de uso típicos incluem:

- Sessões e tokens de autenticação
- Sinalizadores de recurso e agrupamentos de A/B testing
- Preferências de usuário e personalização
- Cache de respostas de API e fragmentos computados
- Contadores de limite de taxa e chaves de idempotência
- Estado do carrinho de compras ou rascunho

---

## Como funciona

- Os dados são organizados em namespaces que contêm conjuntos independentes de chaves.
- Cada item é endereçado por uma chave que é única dentro de seu namespace.
- Os valores podem ser armazenados como texto, JSON ou cargas úteis binárias/em fluxo.
- Os dados são replicados entre pronomes de borda da Azion para maximizar a disponibilidade e o desempenho de leitura.
- Operações de chave única são atômicas por chave. Transações de múltiplas chaves não são suportadas.

---

## Recursos de implementação

| Âmbito | Recurso |
| ----- | -------- |
| Gerenciar KV store com Functions | [Como gerenciar KV store com Functions](/pt-br/documentacao/produtos/guias/kv-store/gerenciar-com-funcoes/) |
| xxx [Como xxxxx](xxxxxx/) |
---

## Regras de negócio

## Resiliência de dados

KV Store usa uma arquitetura distribuída com replicação entre os edge nodes da Azion. Novas gravações são aceitas no edge e propagadas para réplicas para garantir durabilidade e alta disponibilidade. Leituras são servidas da réplica saudável mais próxima para minimizar a latência.


---

## Namespaces

Um namespace é um espaço de chave isolado. Use namespaces para segmentar dados por aplicação, ambiente ou carga de trabalho.

Padrões recomendados:

- Namespaces separados para produção e staging.
- Prefixe chaves para modelar hierarquia, por exemplo: users/123/profile, flags/new-ui, carts/region-br/user-42.
- Mantenha as chaves curtas e significativas; prefira alguns segmentos do tipo caminho em vez de longos identificadores opacos.

Nomenclatura:

- Os nomes devem ser únicos dentro da sua conta.
- Use letras minúsculas, números, hifens e sublinhados.

---

## Interação com KV Store via Functions

Os exemplos abaixo ilustram padrões comuns.

```js
const aqui=1
```

---

## Métodos

- put(namespace, key, value, options?)
  - value: string | object (JSON) | ArrayBuffer | ReadableStream
  - options: { metadata?: object, contentType?: string }
  - returns: void
- get(namespace, key, options?)
  - options: { type: 'text' | 'json' | 'arrayBuffer' | 'stream' }
  - returns: string | object | ArrayBuffer | ReadableStream
- delete(namespace, key)
  - returns: void



---

## Limites

Estes são os **limites padrão**:

- Taxa de gravação por chave: até 1 gravação por segundo para a mesma chave.
- Tamanho da chave: até 512 bytes (UTF-8).
- Tamanho dos metadados: até 1024 bytes (JSON-serializado).
- Tamanho do valor: até 25 MB por item.


Estes são os **limites padrão** para cada Plano de Serviço:

| Âmbito | Developer | Business | Enterprise | Mission Critical |  
-- | --


<br class="Apple-interchange-newline"> |
| ----- | --------- | -------- | ---------- | ---------------- |
| Namespaces | 10 | 50 | 200 | 200 |
| Tamanho máximo do arquivo | 200 MB | 500 MB | 2 GB | 2 GB |
| Armazenamento máximo por conta | 5 GB | 50 GB | 300 GB | 300 GB |

---
