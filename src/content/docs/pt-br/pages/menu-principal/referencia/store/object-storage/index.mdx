---
title: Edge Storage
description: O Azion Edge Storage é um serviço de armazenamento escalável e seguro projetado para integrar o armazenamento de objetos com a Plataforma de Edge Computing da Azion usando o padrão S3.
meta_tags: object storage, storage, cloud, s3, bucket, objetos, arquivos, armazenamento, file storage
namespace: documentation_products_store_object_storage
permalink: /documentacao/produtos/store/edge-storage/
---

import Badge from '~/components/Badge.astro';

<Badge variant="accent">
  Preview
</Badge>

O **Edge Storage** da Azion é um serviço de armazenamento escalável e seguro, projetado para integrar o armazenamento de objetos à Plataforma de Edge Computing da Azion, utilizando o padrão S3 para operações de objetos. 

O Edge Storage permite que você crie buckets, que podem ser usados como origens para edge applications ou como diretórios para upload de objetos em tempo real. Além da criação de buckets, você tem controle total sobre a alocação de armazenamento. Isso envolve a gestão de permissões de leitura/escrita e a capacidade de fazer upload, alterar e excluir objetos.

:::note
Esse produto está disponível via [Azion API](https://api.azion.com), [Edge Runtime](/pt-br/documentacao/produtos/edge-application/edge-functions/runtime/visao-geral/) e [Azion CLI](/pt-br/documentacao/produtos/azion-cli/visao-geral/).
:::

## Implementação

| Escopo | Recursos |
| --- | --- |
| Criar e modificar um bucket | [Como criar e modificar um bucket do Azion Edge Storage](/pt-br/documentacao/produtos/guias/criar-e-modificar-um-bucket/) |
| Upload e download de objetos | [Como fazer o upload e download de objetos de um bucket do Azion Edge Storage](/pt-br/documentacao/produtos/guias/upload-e-download-de-objetos-do-bucket/) |
| Usar bucket como origem | [Como usar um bucket do Azion Edge Storage como origem de uma edge application estática](/pt-br/documentacao/produtos/guias/usar-bucket-como-origem/) |
| Runtime API | [Edge Storage API](/pt-br/documentacao/devtools/runtime/api-reference/storage/) |

---

## Buckets

Os buckets são o sistema utilizado para organizar objetos, ou arquivos, armazenados. Semelhantes a pastas, os buckets são contêineres de nível superior para armazenar objetos. Todos os buckets criados com o **Edge Storage** da Azion são armazenados no servidor de nuvem *us-east*.

Nomes de buckets são exclusivos dentre todas as contas Azion. Os nomes devem ter entre 6 e 63 caracteres e não podem começar com `azion`. São aceitos caracteres alfanuméricos e hífen (`-`).

As melhores práticas para nomear buckets incluem especificar que tipos de objetos são armazenados e o tipo de permissões para os objetos. Por exemplo, um bucket para uma edge application `Banking App` em modo somente leitura (read-only) poderia ser nomeado `banking-app-ro`.

### Autenticação e permissões

Ações envolvendo buckets, como fazer upload, listar e excluir objetos, sempre exigem autenticação pela conta Azion.

:::note
Consulte [Teams Permissions](/pt-br/documentacao/produtos/gestao-de-contas/teams-permissions/) para saber mais sobre as permissões de contas do Edge Storage.
:::

Além da autenticação e permissões necessárias, algumas operações são restritas pelas permissões do bucket. As permissões disponíveis são:

- **Read-only**: objetos no bucket podem ser lidos, mas não modificados.
- **Read-write**: objetos no bucket podem ser modificados.
- **Restricted**: objetos no bucket podem ser modificados e lidos, mas não podem ser acessados pela Plataforma de Edge da Azion. Isso significa que os buckets não podem ser modificados usando Edge Runtime ou CLI e não pode ser usado como origem para edge applications.

Informações pessoais e sensíveis não devem ser enviadas para o bucket ou incluídas em objetos devido às limitações de criptografia para proteção de privacidade.

---

## Objetos

Objetos, ou arquivos, podem ser enviados, modificados, baixados e removidos dos buckets por meio da [Azion REST API](https://api.azion.com), do [Edge Runtime](/pt-br/documentacao/produtos/edge-application/edge-functions/runtime/visao-geral/) e da [Azion CLI](/pt-br/documentacao/produtos/azion-cli/visao-geral/).

### Object key

Uma object key é uma string de caracteres que compõe identificador de objetos armazenados em buckets do **Edge Storage**. Por meio das ferramentas disponíveis, os usuários podem recuperar um arquivo armazenado em um bucket usando sua chave de objeto.

Não é obrigatório que a object key corresponda ao caminho do arquivo original ou nome do armazenamento local de onde ele foi retirado, nem que contenha a extensão original do arquivo. No entanto, ao fazer o upload de um arquivo local para um bucket, é recomendado que o nome do arquivo corresponda à object key para que ele se encaixe às convenções do armazenamento local. Por exemplo, para o arquivo local `pasta/arquivo.png`, a object key deve ser a mesma.

A object key não pode ser alterada. Fazer o upload de um objeto diferente ou modificar o conteúdo de um objeto usando uma chave existente substitui o objeto. Uma vez que um objeto é substituído, versões anteriores não podem ser recuperadas.

### Prefix

Um prefixo é uma combinação de caminhos que simulam uma hierarquia de pastas. Como os buckets não podem ser organizados em pastas, você pode usar a barra (`/`) ao criar chaves para categorizar objetos do seu bucket em um prefixo.

Por exemplo, a lista de keys abaixo mostra a hierarquia simulada de uma aplicação armazenada em um bucket com prefixes:

```bash
README.md
src/index.js
src/index.html
src/assets/styles.css
src/assets/images/image.png
```

O objeto `README.md` está localizado na raiz do bucket. O prefix `src` corresponde a uma pasta e contém os objetos `index.js` e `index.html`. Além disso, o prefix `src/assets` contém um objeto `styles.css` e o prefix `src/assets/images`, por sua vez, contém o objeto `image.png`.

O upload de um objeto diferente ou a modificação do conteúdo do objeto usando uma key existente substitui o objeto. Depois que um objeto é substituído, as versões anteriores não podem ser recuperadas.

---

## Origem

Com **Edge Storage**, você pode usar buckets como uma [origin](/pt-br/documentacao/produtos/edge-application/origins/#edge-storage) na **Edge Application** da Azion para retirar o conteúdo de uma edge application.

Você pode determinar se o conteúdo é retirado da raiz do bucket ou de um prefix dentro do bucket.

---

## Operações

Uma operação se refere a uma troca entre um cliente e o **Edge Storage**. Qualquer ação a buckets e objetos (criar, excluir, listar e atualizar) é considerada uma operação. Cada vez que um desses métodos é usado, uma operação é registrada.

Todas as operações estão disponíveis na documentação da [API da Azion](https://api.azion.com/#cc7b8b24-4a82-4f70-8660-40e17f6d5440).

:::note
As operações A e B são cobradas separadamente. As operações de classe C são gratuitas. Se uma operação estiver fora do escopo das operações de classe C, ela será cobrada em sua conta de acordo com os custos estabelecidos. Para obter mais informações sobre as cobranças de operações e classes, consulte a página de [Preços](https://www.azion.com/en/pricing/).
:::

O histórico de operações pode ser acessado por meio da [GraphQL API do Real-Time Events](/pt-br/documentacao/produtos/graphql-api/recursos/campos-events/#activityhistoryevents-activity-history).

A versão atual do **Edge Storage** oferece as seguintes operações:

| Classe | Nome da operação | Método HTTP |
| --- | --- | --- |
| A | [List Objects](#list-objects) | `GET` |
| A | [Create Bucket](#create-bucket) | `POST` |
| A | [List Buckets](#list-buckets) | `GET` |
| A | [Update Bucket](#update-bucket) | `PATCH` |
| B | [Get Object](#get-object) |  `GET` |
| C | [Post Object](#post-object) | `POST` |
| C | [Put Object](#put-object) | `PUT` |
| C | [Delete Object](#delete-object) | `DELETE` |
| C | [Delete Bucket](#delete-bucket) | `DELETE` |

:::note
Operações de classe C necessitam que o bucket possua permissão read-write.
:::

### Post Object

Faz upload de um objeto em um bucket.

Utilize o comando cURL com a opção `--data-binary` para enviar dados binários brutos, como imagens ou arquivos complexos sem passar por URL encoding.

Você deve especificar o MIME type do objeto sendo enviado no corpo da requisição com o cabeçalho `Content-Type`. Por exemplo, objetos com extensão `.txt` devem conter o cabeçalho `Content-Type: text/plain`. Como alternativa, utilize o MIME type `application/octet-stream` para indicar que os dados são um fluxo binário e o servidor deve tratá-los como dados binários brutos.

Ao enviar um novo objeto com uma object key já existente no bucket, o objeto anterior será substituído.

### Put Object

Faz upload de um objeto em um bucket.

Ao enviar um objeto com uma object key já existente no bucket, o objeto anterior será substituído.

### Delete Object

Remove um objeto de um bucket.

Quando você remove um objeto de um bucket que está sendo servido na edge, ele imediatamente para de ser servido e não será mais listado no bucket.

### Delete Bucket

Remove um bucket de uma conta.

Buckets que contêm objetos não podem ser deletados. Após remover o último objeto de um bucket, é necessário aguardar 24 horas antes que o bucket possa ser removido da conta.

### Get Object

Recupera um objeto de um bucket

Para fazer o download do objeto no seu dispositivo, adicione as opções `-O -J` à essa operação no comando cURL.

### List Objects

Recupera uma lista de objetos carregados em um bucket.

Essa operação retorna detalhes de todos os objetos no bucket, incluindo o tamanho em bytes e o timestamp da última modificação.

### List Buckets

Recupera uma lista de buckets associados à uma conta.

### Create Bucket

Cria um novo bucket para uma conta.

### Update Bucket

Modifica informações do bucket.

Essa operação pode ser usada para alterar as permissões de acesso aos objetos do bucket. Buckets não podem ser renomeados com essa operação.

---

## Limites

Estes são os **limites default**:

| Escopo | Limite | 
| ------ | ------ | 
| Buckets | 100 por conta |
| Região | us-east |

---

import ContributorList from '~/components/ContributorList.astro'

**Contribuidores** <ContributorList>Contributor</ContributorList>
