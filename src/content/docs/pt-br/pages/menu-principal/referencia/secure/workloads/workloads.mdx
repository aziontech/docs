---
title: Workloads
description: >-
  Workloads é uma ferramenta do Azion Console que centraliza as configurações de protocolos de comunicação, como certificados, domínios, portas e protocolos.
meta_tags: 'edge application, workloads, secure'
namespace: documentation_products_secure_workloads
permalink: /documentacao/produtos/secure/workloads/
---

import LinkButton from 'azion-webkit/linkbutton'

**Workloads** é uma ferramenta do [Azion Console](https://console.azion.com) que centraliza as configurações de protocolos de comunicação, como certificados, domínios, portas e protocolos.


Quando você [cria uma Edge Application](/pt-br/documentacao/produtos/guias/build/criar-uma-aplicacao/), sua aplicação recebe automaticamente um **Azion Workload**, no formato `xxxx.map.azionedge.net`. Você pode criar múltiplos Workloads para suas Edge Applications.

Se você já possui um domínio, pode [redirecionar seu tráfego para a Azion](/pt-br/documentacao/produtos/guias/apontar-dominio-para-a-azion/) configurando os registros no seu provedor de DNS e listando seus **domínios personalizados**.

Você também pode vincular um **Certificado Digital** a domínios que utilizam o protocolo HTTPS.

## Implementação

| Escopo | Recurso |
| --- | --- |
| Adicionando um domínio personalizado | [Primeiros passos](/pt-br/documentacao/produtos/guias/configurar-dominio/) |
| Sobre Certificados Digitais | [Certificados Digitais](/pt-br/documentacao/produtos/secure/edge-firewall/digital-certificates/) |
| Sobre mTLS | [mTLS](/pt-br/documentacao/produtos/secure/edge-firewall/mtls/) |

---
## Infrastructure

Antes de entrar em operação, você pode ativar uma configuração de teste para visualizar as configurações. Ao criar um novo Workload, é possível escolher o tipo de ambiente:

- **Production**: ambiente de produção da aplicação. O domínio Azion terá o formato `xxxx.map.azionedge.net`.
- **Staging**: ambiente para testes da aplicação. Essa configuração não impacta o ambiente **Production**. O domínio Azion terá o formato `xxxx.preview.azionedge.net`.

:::tip[Dica]
O arquivo local `etc/hosts` mapeia endereços IP para domínios. Ao [associar o IP do edge node ao CNAME](/pt-br/documentacao/produtos/guias/testar-edge-application-atraves-do-arquivo-hosts/) atribuído ao seu domínio no arquivo `hosts`, você força a resolução DNS do seu computador a acessar esse domínio através do edge node e não por servidores DNS públicos. Assim, é possível fazer o staging da sua aplicação localmente como se já estivesse publicada no seu domínio personalizado no edge antes de [apontar seu domínio](/pt-br/documentacao/produtos/guias/apontar-dominio-para-a-azion/) para a Azion.
:::

---

## Domains

Gerencie os domínios vinculados à sua aplicação. Garanta a configuração correta do DNS mapeando registros CNAME para o domínio do workload. Você também pode usar o [Edge DNS](/pt-br/documentacao/produtos/secure/edge-dns/) para simplificar o gerenciamento de domínios e vincular seus domínios à Azion.

### Workload Domain

Um domínio de Workload será gerado ao criar um Workload.

Você pode restringir o acesso ao domínio padrão do workload gerado após a criação do workload (como `xxxxx.map.azionedge.net`) desabilitando a opção **Workload Domain Allow Access**.

### Azion Custom Domain

O Azion Custom Domain permite configurar um domínio personalizado para sua aplicação usando o formato `example.azion.app`.

---
## Deployment Settings

Configure o deploy do seu workload selecionando uma [Edge Application](/pt-br/documentacao/produtos/build/edge-application/) e um [Edge Firewall](/pt-br/documentacao/produtos/secure/edge-firewall/). Você também pode configurar [páginas de erro personalizadas](TBD) para tratar erros e definir configurações de cache time-to-live (TTL) baseadas no código de status HTTP retornado pelos conectores de edge.
---
## Protocol Settings

Configure os protocolos de comunicação utilizados entre o workload e seus usuários. Esta seção permite definir configurações de segurança, compatibilidade e performance para otimizar como seu workload opera no edge.

- **HTTP**: entrega sua aplicação utilizando apenas o protocolo HTTP.
- **HTTP & HTTPS**: entrega sua aplicação utilizando ambos os protocolos HTTP e HTTPS.

:::note
Se optar por entregar sua aplicação via HTTP & HTTPS, é necessário associar um [certificado digital](/pt-br/documentacao/produtos/secure/edge-firewall/digital-certificates/) ao seu domínio.
:::

#### HTTP/3 support

Se optar por entregar sua aplicação via **HTTP & HTTPS**, é possível habilitar o **suporte a HTTP/3**. Baseado no padrão do protocolo QUIC, o HTTP/3 proporciona tempos de carregamento mais rápidos e menor latência em comparação com versões anteriores.

Ao habilitar o suporte a HTTP/3, suas Edge Applications podem utilizar essa versão do protocolo em navegadores compatíveis apenas através da *porta HTTP 80* e *porta HTTPS 443*.

Na primeira requisição de um usuário para uma Edge Application com HTTP/3, o handshake e a primeira resposta serão realizados utilizando TCP e HTTP/1.1 ou HTTP/2. A resposta desse intercâmbio atribuirá um valor ao [cabeçalho Alt-Svc](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Alt-Svc) que indica que a versão mais recente do protocolo está disponível para o navegador. Se o navegador suportar HTTP/3, o protocolo QUIC e HTTP/3 serão utilizados, a menos que a resposta em cache expire ou não seja encontrada.


### Portas

A Azion oferece uma solução de multiporta simultânea, permitindo personalizar por quais portas HTTP e HTTPS sua aplicação será entregue. É necessário escolher *ao menos uma porta* para cada protocolo, mas é possível selecionar entre todas as portas disponíveis para entrega.

:::note
Se habilitar o [suporte a HTTP/3](#http3-support), a configuração de multiporta será sobrescrita para as portas padrão 80 para HTTP e 443 para HTTPS. O multiporta simultâneo não está disponível para aplicações com suporte a HTTP/3.
:::

#### Portas disponíveis

| HTTP Port    | HTTPS Port    |
|--------------|---------------|
| 80 (default) | 443 (default) |
| 8008         | 8443          |
| 8080         | 9440          |
| 8880         | 9441          |
|              | 9442          | 
|              | 9443          |
|              | 7777          |
|              | 8888          |
|              | 9553          |
|              | 9653          |
|              | 8035          |
|              | 8090          |

### Minimum TLS version

O protocolo **Transport Layer Security (TLS)** permite criptografar o tráfego web. As seguintes versões do TLS podem ser utilizadas com Edge Applications:

- TLS 1.0 (*deprecated*)
- TLS 1.1 (*deprecated*)
- TLS 1.2
- TLS 1.3

Você pode escolher a versão mínima do TLS que será suportada pela sua Edge Application. Ao escolher versões mais recentes do protocolo, dispositivos ou navegadores antigos podem não conseguir acessar a Edge Application.

A Azion bloqueia Renegociação TLS e Resumption TLS por padrão. Se desejar personalizar essa configuração, [entre em contato com o time de vendas](https://www.azion.com/pt-br/contate-vendas/).


### TLS Ciphers

Ciphers são algoritmos de criptografia utilizados para converter *plaintext* em *ciphertext*, que requer uma chave para ser descriptografado. A Azion permite alterar o *cipher suite* que sua Edge Application utilizará para proteger sua aplicação contra ataques TLS.

O cipher suite determinará quais algoritmos criptográficos serão utilizados nas conexões TLS da sua Edge Application. Tanto o cliente quanto o servidor irão *negociar* o cipher suite para criptografar e descriptografar os dados trocados durante a sessão de forma segura.

A tabela abaixo mostra os ciphers disponíveis em cada cipher suite.

| Cipher                          | TLSv1.2_2018 | TLSv1.2_2019 | TLSv1.2_2021 | TLSv1.3_2022 |
|----------------------------------|:------------:|:------------:|:------------:|:------------:|
| TLS_AES_128_GCM_SHA256           | ✔︎           | ✔︎           | ✔︎           | ✕            |
| TLS_AES_256_GCM_SHA384           | ✔︎           | ✔︎           | ✔︎           | ✕            |
| TLS_CHACHA20_POLY1305_SHA256     | ✔︎           | ✔︎           | ✔︎           | ✕            |
| ECDHE-ECDSA-AES128-GCM-SHA256    | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-ECDSA-AES256-GCM-SHA384    | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-ECDSA-CHACHA20-POLY1305    | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-ECDSA-AES256-SHA384        | ✔︎           | ✔︎           | ✕            | ✕            |
| ECDHE-ECDSA-AES128-SHA256        | ✔︎           | ✔︎           | ✕            | ✕            |
| ECDHE-RSA-AES128-GCM-SHA256      | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-RSA-AES256-GCM-SHA384      | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-RSA-CHACHA20-POLY1305      | ✔︎           | ✔︎           | ✔︎           | ✔︎           |
| ECDHE-RSA-AES128-SHA256          | ✔︎           | ✔︎           | ✕            | ✕            |
| ECDHE-RSA-AES256-SHA384          | ✔︎           | ✔︎           | ✕            | ✕            |
| AES128-GCM-SHA256                | ✔︎           | ✕            | ✕            | ✕            |
| AES256-GCM-SHA384                | ✔︎           | ✕            | ✕            | ✕            |
| AES128-SHA256                    | ✔︎           | ✕            | ✕            | ✕            |

<LinkButton link="/en/documentation/products/guides/secure/ciphers/" label="ir para o guia de configuração de cipher suite TLS" severity="secondary" />

---

## Mutual Authentication Settings

Habilite a Autenticação Mútua (mTLS) para exigir que tanto o cliente quanto o servidor apresentem um protocolo de autenticação um ao outro.

Os Workloads da Azion também possuem **Suporte a Mutual Transport Layer Security (mTLS)**, um método de autenticação para usuários e visitantes que valida o certificado digital em ambos os lados de uma requisição, cliente e edge (servidor). Adicionar suporte a mTLS à sua **Edge Application** garante um *TLS/TLS handshake* mais seguro e é um requisito de *Open Banking*.

Para habilitar esse recurso, entre em contato com nosso [Time de Vendas](https://www.azion.com/pt-br/contate-vendas/).

---

## Digital Certificate

Para usar seu domínio em HTTPS, será necessário um certificado TLS (X.509). Sem custos adicionais, você pode incluir seus certificados TLS no [Azion Console](https://console.azion.com) ou gerar um certificado *Let's Encrypt*™, que será gerenciado automaticamente pela Azion.

---

## Limites

:::tip[Dica]
**Aumentar limites** <br></br>
Você pode solicitar o aumento dos limites de acordo com seu plano. Entre em contato com o [time de suporte técnico](/en/documentation/services/support/) para solicitar.
:::

Estes são os **limites padrão**:

| Escopo | Limite |
| --- | --- |
| CNAMEs por domínio | 50 |

Estes são os **limites padrão** para cada Plano de Serviço:

| Escopo | Developer | Business | Enterprise | Mission Critical |
| --- | --- | --- | --- | ---|
| Domínios por conta | 100 | 100 | 100 | 1.000 |

:::tip
**Aumentar limites** <br></br>
Você pode solicitar o aumento dos limites de acordo com seu plano. Entre em contato com o [time de suporte técnico](/en/documentation/services/support/) para solicitar.
:::




