---
title: WAF Rule Sets
description: >-
  Defina seus rule sets de proteção contra ameaças com o Web Application
  Firewall (WAF) da Azion.
meta_tags: 'WAF Rule Sets, Edge Computing, Security'
namespace: documentation_products_web_application_firewall_waf_rule_sets
permalink: >-
  /documentacao/produtos/secure/firewall/web-application-firewall/rule-sets/
---

import Button from 'azion-webkit/components/Button';

[Web Application Firewall (WAF)](/pt-br/documentacao/produtos/secure/edge-firewall/web-application-firewall/) permite a criação de rule sets para proteger suas applications contra famílias de ameaças.

Cada ameaça recebe uma pontuação e é processada de acordo com o nível de sensibilidade configurado. Se houver mais de um caso para o mesmo tipo de ameaça, a pontuação aumentará.

Após criar um rule set, você também deve criar uma regra no **Rules Engine for Firewall** para executar os critérios e comportamentos.

## Implementação

| Escopo | Recurso |
| ----- | ------ |
| Rule set | [Como criar um WAF rule set](/pt-br/documentacao/produtos/guias/secure/criar-waf-rule-set/) |

---

## Tipos de ameaças

A tabela **Threat Type Configuration** está disponível na aba [Main Settings](/pt-br/documentacao/produtos/secure/edge-firewall/web-application-firewall/#waf-main-settings) de uma configuração de WAF. As ameaças são categorizadas em famílias, conforme o objetivo do ataque.

| Família de ameaça | Descrição |
| ----------------- | --------- |
| SQL Injections Sensitivity | Detecta tentativas de ataque do tipo injeção de código SQL, por meio dos dados do cliente para a aplicação |
| Remote File Inclusions (RFI) | Detecta tentativas de incluir arquivos, normalmente por meio de scripts no servidor web |
| Directory Traversal | Previne a exploração de vulnerabilidade referente à sanitização insuficiente de campos de nomes de arquivo fornecidos pelos usuários, de modo que caracteres representando atalhos para o diretório pai sejam passados por meio da API de arquivos |
| Cross-Site Scripting (XSS) | Previne a injeção de *scripts client-side* em páginas vistas por seus visitantes |
| File Upload | Detecta a tentativa de envio de arquivos para o servidor web |
| Evading Tricks | Protege contra alguns truques de codificação utilizados para tentar escapar dos mecanismos de proteção |
| Unwanted Access | Detecta as tentativas de acesso a páginas administrativas ou vulneráveis, bots e ferramentas de *scanning* de segurança |
| Identified Attacks | Previne vários tipos de ataques comuns e vulnerabilidades conhecidas que certamente deverão ser bloqueados |

---

## Níveis de sensibilidade

Uma requisição será bloqueada caso ela obtenha um score do WAF maior ou igual ao limite do nível de sensibilidade configurado. Você pode definir um nível de sensibilidade para cada família de ameaças.

| Sensibilidade | Descrição e limite do score |
| ------------- | --------------------------- |
| Lowest | A requisição será considerada uma ameaça se apresentar indícios muito fortes e receber um *score* do WAF maior ou igual a 40. Essa sensibilidade tem um menor nível de proteção para suas aplicações, mas também evitará o bloqueio de requisições com menor chance de representar ameaças (falsos positivos) |
| Low | A requisição será considerada uma ameaça se apresentar indícios muito fortes e receber um *score* do WAF igual ou maior a 24. Essa sensibilidade tem um menor nível de proteção para suas aplicações, mas também evitará o bloqueio de requisições com menor chance de representar ameaças (falsos positivos) |
| Medium | A requisição será considerada uma ameaça se apresentar indícios suficientes e receber um *score* do WAF igual ou maior a 16 |
| High | Ao menor indício de uma ameaça, a requisição poderá ser bloqueada, mesmo quando apresentar um *score* do WAF igual ou maior a 8. Esse nível de sensibilidade pode apresentar mais falsos positivos se a etapa de aprendizagem não tiver cobertura suficiente sobre a variabilidade de cenários e usos de sua aplicação |
| Highest | Ao mínimo indício de uma ameaça, a requisição poderá ser bloqueada, mesmo quando apresentar um *score* igual ou maior a 4. Esse nível de sensibilidade pode apresentar muitos falsos positivos se a etapa de aprendizagem não tiver cobertura suficiente sobre a variabilidade de cenários e usos de sua aplicação |

---

## Configuração de Rules Engine

Após configurar as main settings do WAF com a tabela de **Threat Type Configuration**, você deve criar uma regra no [Rules Engine para Firewall](/pt-br/documentacao/produtos/secure/firewall/rules-engine/) para executar o comportamento que você configurou.

Essa configuração garante que suas definições do WAF sejam implementadas juntamente com outras lógicas de segurança do Firewall.

<Button href="/pt-br/documentacao/produtos/guias/secure/trabalhar-com-rules-engine/" label="consulte o guia sobre criar regra" type="primary" theme="light" />

---

## Monitoramento de ameaças com Real-Time Metrics

Após concluir a configuração de rule sets do seu WAF e sua application receber tráfego de entrada, você pode usar **Real-Time Metrics** para monitorar requisições e ameaças. Você encontrará gráficos comparando como o WAF processou as requisições e alguns gráficos específicos para diferentes famílias de ameaças.

<Button href="/pt-br/documentacao/produtos/observe/real-time-metrics/#waf" label="saiba mais sobre real-time metrics" type="primary" theme="light" />

Você também pode realizar análises adicionais sobre as ameaças do WAF usando [Data Stream](/pt-br/documentacao/produtos/observe/data-stream/) e [Real-Time Events](/pt-br/documentacao/produtos/observe/real-time-events/).


---

