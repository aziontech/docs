---
title: Como configurar o conjunto de cifras TLS para applications
description: >-
  Ataques de segurança podem explorar vulnerabilidades específicas de cifras
  TLS; você pode selecionar quais cifras sua aplicação HTTPS suporta.
meta_tags: 'secure, configuration, settings, domains'
namespace: docs_guides_secure_ciphers
permalink: /documentacao/produtos/guias/secure/cifras/
---

import Tabs from '~/components/tabs/Tabs'
import Code from '~/components/Code/Code.astro'
import Apiv4Rollout from '~/includes/snippets/apiv4Rollout/pt/snippet.mdx'

<Apiv4Rollout />


Aplicações HTTPS requerem configurações de segurança adicionais na forma de criptografia TLS. Quando você [configura uma application](/pt-br/documentacao/produtos/guias/build/definir-configuracoes-principais/) com a Azion, você pode selecionar a versão mínima de TLS suportada e qual conjunto de cifras é usado pela aplicação.

Existem instruções separadas para API v3, que usa configurações de Delivery anteriormente localizadas nas [Configurações principais da Application](https://www.azion.com/pt-br/documentacao/produtos/guias/build/definir-configuracoes-principais/). Na API v4, as configurações de Delivery foram movidas para o novo produto [Workloads](/pt-br/documentacao/produtos/secure/workloads).

:::tip
Neste guia, há instruções separadas para API v3 e API v4. Se você não tem certeza de quais etapas se aplicam à sua conta, consulte [o guia Verificar Migração da Conta](/pt-br/documentacao/produtos/guias/verificar-migracao-conta/) para determinar se sua conta já foi migrada.
:::


---

## Configure uma aplicação HTTPS

Para habilitar o protocolo HTTPS para sua aplicação:

<Tabs client:visible>
    <Fragment slot="tab.consoleworkloads">Console - Workloads</Fragment>
    <Fragment slot="tab.consoleedgeapplication">Console - Application</Fragment>
    <Fragment slot="tab.apiv3">API v3</Fragment>
    <Fragment slot="tab.apiv4">API v4</Fragment>


<Fragment slot="panel.consoleworkloads">

1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Workloads**.
2. Clique no Workload que você deseja configurar.
3. Em **Protocol Settings**, selecione **HTTP and HTTPS support**.

Agora, para especificar a [versão mínima de TLS](/pt-br/documentacao/produtos/build/edge-application/main-settings/#versao-minima-de-tls) e o [conjunto de cifras](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) suportado por sua aplicação:

1. Em **Minimum TLS version**, selecione **TLS 1.2**.
2. Em **Cipher suite**, selecione **TLSv1.2_2021**.
3. Clique no botão **Save**.

Pode levar algum tempo para propagar suas alterações para o edge. Para verificar se suas alterações foram implementadas, você pode inspecionar a página `https://xxxxxxxxxx.map.azionedge.net` usando seu navegador e localizar as configurações de segurança da aplicação. Você também pode [executar o comando DIG](/pt-br/documentacao/produtos/guias/executar-o-comando-dig/) para obter mais informações sobre suas configurações de segurança.

A aplicação ainda pode estar funcionando em TLS 1.3, já que você selecionou a versão mínima e *não a versão exata do TLS* usada. No entanto, você pode conferir o conjunto de cifras sendo usado na [lista de cifras suportadas](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) para verificar se as alterações ocorreram.

</Fragment>

<Fragment slot="panel.consoleedgeapplication">
1. Acesse o [Azion Console](/pt-br/documentacao/produtos/guias/como-acessar-o-azion-console/) > **Application**.
2. Clique na aplicação que deseja configurar.
3. Em **Delivery Settings**, selecione **HTTP and HTTPS support**.

Agora, para especificar a [versão mínima de TLS](/pt-br/documentacao/produtos/build/edge-application/main-settings/#versao-minima-de-tls) e o [conjunto de cifras](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) suportado por sua aplicação:

1. Em **Minimum TLS Version**, selecione **TLS 1.2**.
2. Em **Cipher suite**, selecione **TLSv1.2_2021**.
3. Clique no botão **Save**.

Pode levar algum tempo para propagar suas alterações para o edge. Para verificar se suas alterações foram implementadas, você pode inspecionar a página `https://xxxxxxxxxx.map.azionedge.net` usando seu navegador e localizar as configurações de segurança da aplicação. Você também pode [executar o comando DIG](/pt-br/documentacao/produtos/guias/executar-o-comando-dig/) para obter mais informações sobre suas configurações de segurança.

A aplicação ainda pode estar funcionando em TLS 1.3, já que você selecionou a versão mínima e *não a versão exata do TLS* usada. No entanto, você pode conferir o conjunto de cifras sendo usado contra a [lista de cifras suportadas](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) para verificar se as alterações ocorreram.
</Fragment>

<Fragment slot="panel.apiv4">

1. Execute a seguinte requisição `GET` no seu terminal, substituindo `[TOKEN VALUE]` pelo seu [token pessoal](/pt-br/documentacao/produtos/guias/personal-tokens/) para recuperar seu `<workload_id>`:

<Code lang="bash" code={`
curl --request GET \
  --url https://api.azion.com/v4/workspace/workloads \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]'
`} />

2. Você receberá uma resposta com todas suas applications existentes. Copie o valor do `<workload_id>` que você deseja configurar.
3. Execute uma requisição `PATCH` para modificar a aplicação da seguinte maneira:

<Code lang="bash" code={`
curl --request PATCH \
  --url https://api.azion.com/v4/workspace/workloads/<workload_id> \
  --header 'Accept: application/json' \
  --header 'Authorization: Token [TOKEN VALUE]' \
  --header 'Content-Type: application/json' \
  --data '{
    "tls": {
      "minimum_version": "tls_1_2",
      "ciphers": 4
    },
    "protocols": {
      "http": {
        "versions": ["http1", "http2"],
        "http_ports": [80],
        "https_ports": [443]
      }
    }
  }'
`} />

| Chave | Descrição |
| --- | --- |
| `protocols` | Habilita os protocolos HTTP e HTTPS |
| `minimum_tls_version` | Enum que estabelece a versão mínima de TLS |
| `ciphers` | Enum que define o conjunto de cifras suportadas. Veja a lista completa de [lista de cifras suportadas](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) para mais detalhes |

4. Você receberá uma resposta semelhante a esta:

<Code lang="json" code={`
    {
      "id": <workload_id>,
      "name": "My workload",
      "active": true,
      "last_editor": "your-email@example.com",
      "last_modified": "2025-08-06T17:54:18.476043Z",
      "infrastructure": 1,
      "tls": {
        "certificate": null,
        "ciphers": 4,
        "minimum_version": "tls_1_3"
      },
      "protocols": {
        "http": {
          "versions": [
            "http1",
            "http2",
            "http3"
          ],
          "http_ports": [
            80
          ],
          "https_ports": [
            443
          ],
          "quic_ports": [
            443
          ]
        }
      },
      "mtls": {
        "verification": null,
        "certificate": null,
        "crl": null
      },
      "domains": [
        "mycooltestdomain.azion.app"
      ],
      "workload_domain_allow_access": true,
      "workload_domain": "xxxxxxxxxx.map.azionedge.net",
      "product_version": "1.0"
    },
`} />

5. Aguarde alguns minutos para que as mudanças se propaguem.
6. Verifique o conjunto de cifras suportado inspecionando a página ou [executando o comando DIG](/pt-br/documentacao/produtos/guias/executar-o-comando-dig/).

:::tip
Confira a [documentação da API da Azion](https://api.azion.com/) para saber mais sobre o que a API da Azion pode oferecer.
:::

</Fragment>

<Fragment slot="panel.apiv3">

1. Execute a seguinte requisição `GET` no seu terminal, substituindo `[TOKEN VALUE]` pelo seu [token pessoal](/pt-br/documentacao/produtos/guias/personal-tokens/) para recuperar seu `<application_id>`:

<Code lang="bash" code={`
curl --location 'https://api.azionapi.net/edge_applications \
--header 'Accept: application/json; version=3' \
--header 'Authorization: Token [TOKEN VALUE]'
`} />

2. Você receberá uma resposta com todas suas applications existentes. Copie o valor do `<application_id>` que você deseja configurar.
3. Execute uma requisição `PATCH` para modificar a aplicação da seguinte maneira:

<Code lang="bash" code={`
curl --location --request PATCH 'https://api.azionapi.net/edge_applications/<application_id>' \
--header 'Accept: application/json; version=3' \
--header 'Content-Type: application/json' \
--header 'Authorization: Token [TOKEN VALUE]' \
--data '{
    "delivery_protocol": "http,https",
    "minimum_tls_version": "tls_1_2",
    "supported_ciphers": "TLSv1.2_2021"
}'
`} />

| Chave | Descrição |
| --- | --- |
| `delivery_protocol` | Habilita os protocolos HTTP e HTTPS |
| `minimum_tls_version` | Enum que estabelece a versão mínima de TLS |
| `supported_ciphers` | Enum que define o conjunto de cifras suportadas. Veja a lista completa de [lista de cifras suportadas](/pt-br/documentacao/produtos/build/edge-application/main-settings/#cifras) para mais detalhes |

4. Você receberá uma resposta semelhante a esta:

<Code lang="json" code={`
{
    "results": {
        "id": <application_id>,
        "name": "example.org",
        "delivery_protocol": "http,https",
        "http_port": [
            80,
            8008
        ],
        "https_port": [
            443
        ],
        "minimum_tls_version": "tls_1_2",
        "active": true,
        "debug_rules": false,
        "http3": false,
        "websocket": false,
        "supported_ciphers": "TLSv1.2_2021",
        "application_acceleration": true,
        "caching": true,
        "device_detection": false,
        "edge_firewall": false,
        "edge_functions": true,
        "image_optimization": false,
        "l2_caching": false,
        "load_balancer": false,
        "raw_logs": false,
        "web_application_firewall": false
    }
}
`} />

5. Aguarde alguns minutos para que as mudanças se propaguem.
6. Verifique o conjunto de cifras suportado inspecionando a página ou [executando o comando DIG](/pt-br/documentacao/produtos/guias/executar-o-comando-dig/).

:::tip
Confira a [documentação da API da Azion](https://api.azion.com/v3) e a [especificação OpenAPI](https://github.com/aziontech/azionapi-openapi/) para saber mais sobre o que a API da Azion pode oferecer.
:::
</Fragment>

</Tabs>

---

