---

title: Application Acceleration
description: Application Acceleration acelera aplicações web e APIs através da otimização de protocolo e do gerenciamento de requisitos de conteúdo dinâmico.
meta_tags: Application Acceleration, Serveless, Edge Computing
namespace: documentation_products_application_acceleration
permalink: /documentacao/produtos/edge-application/application-acceleration/
---

**Application Acceleration** é um módulo de **Edge Application** que acelera aplicações web e APIs através da otimização de protocolo e do gerenciamento de requisitos de conteúdo dinâmico. Esse módulo habilita a funcionalidade **Advanced Cache Key**, bem como novas opções para regras personalizadas usando [Rules Engine](/pt-br/documentacao/produtos/edge-application/rules-engine/), e provê suporte a métodos HTTP.

---

## Como funciona

O **Application Acceleration** é um módulo do **Edge Application** que otimiza protocolos e gerencia os diferentes requisitos de conteúdo estático e dinâmico para acelerar o desempenho de aplicativos web e APIs.

Ao manter os processos dentro dos edge nodes da Azion, o Application Acceleration pode ajudar a aumentar o desempenho das APIs e diminuir a complexidade da infraestrutura no backend.

Com o Application Acceleration, você pode:

- Criar regras avançadas no [Rules Engine](/pt-br/documentacao/produtos/edge-application/rules-engine/) para as fases HTTP *request* e *response*.
- Utilizar a funcionalidade **Advanced Cache Key**, que permite personalizar políticas de cache para conteúdo dinâmico.
- Ter suporte aos métodos POST, PUT, PATCH e DELETE para Edge Application, bem como aos métodos GET, HEAD e OPTIONS suportados nativamente.
- Alterar o [TTL de cache da CDN](/pt-br/documentacao/produtos/edge-application/edge-caching/#cdn-cache-settings) para valores abaixo de 60 segundos.

---

## Advanced Cache Key

Por padrão, a Azion considera cada URL como um objeto distinto no cache. A funcionalidade **Advanced Cache Key** permite que você crie regras avançadas de *cache key* baseadas em duas opções: [Query String](#cache-by-query-string) ou [Cookies](#cache-by-cookie). Se necessário, você pode usar ambas as opções para definir a segmentação do conteúdo de sua aplicação.

> Consulte o guia [Como configurar a Advanced Cache Key para Edge Application](/pt-br/documentacao/produtos/guias/desempenho-apis-sites-application-acceleration/).

### Cache by Query String

Na Azion, você define como deseja que o conteúdo seja armazenado em cache de acordo com variações de **Query String** em suas URLs:

- **Content does not vary by Query String (Improves Caching)**: define que a *cache key* deve ignorar a Query String. Ou seja, duas URLs distintas apenas pela variação da Query String serão consideradas o mesmo objeto em cache. Por exemplo, `http://seudominio.com/path?queryA` e `http://seudominio.com/path?queryB` irão entregar o mesmo conteúdo do cache para seus usuários.

- **Content varies by some Query String fields (Allowed rules)**: você pode listar quais campos da Query String devem ser considerados para diferenciar os objetos no cache da Azion. Todos os demais campos serão ignorados. Por exemplo, se você listar o campo `cidade`, as URLs `http://seudominio.com/path?cidade=A&nome=X` e `http://seudominio.com/path?cidade=A&nome=Y` serão consideradas um único objeto em cache, enquanto as URLs `http://seudominio.com/path?cidade=A&nome=X` e `http://seudominio.com/path?cidade=B&nome=X` serão consideradas objetos distintos.

- **Content varies by Query String, except for some fields (Blacklist)**: você pode listar quais campos da Query String devem ser ignorados ao diferenciar os objetos em cache. Todos os demais campos serão considerados. Por exemplo, se você listar o campo `random`, as URLs `http://seudominio.com/path?cidade=A&random=123` e `http://seudominio.com/path?cidade=B&random=123` serão consideradas objetos distintos em cache, enquanto `http://seudominio.com/path?cidade=A&random=123` e `http://seudominio.com/path?cidade=A&random=456` serão consideradas o mesmo objeto em cache.

- **Content varies by all Query String fields**: define que a cache key deve considerar todos os campos da Query String. Ou seja, duas URLs distintas pela variação da Query String serão consideradas dois objetos distintos em cache. Por exemplo, `http://seudominio.com/path?queryA` e `http://seudominio.com/path?queryB` serão armazenadas como objetos distintos no cache da Azion.

Para aumentar a eficiência do cache, você pode ativar a opção **Query String Sort**. Se ativada, ela ordena todos os campos da query string, fazendo com que a posição dos campos seja irrelevante na definição da cache key. Se a posição dos campos é relevante para diferenciar o seu conteúdo, você deve desativar essa opção.

### Cache by Cookie

Você pode também distinguir os objetos no cache da Azion por nome/valor de cookies.

- **Content does not vary by Cookies (Improves Caching)**:  considera a URL para diferenciar objetos no cache da Azion, não levando em consideração os cookies.

- **Content varies by some Cookies (Allowed rules)**: você pode listar o nome dos cookies que sua aplicação utiliza para diferenciar os objetos em cache. Todos os demais cookies serão ignorados, permitindo segmentar seu conteúdo por perfis de usuários e outras configurações. Esta é a opção mais recomendada se você utiliza cookies para gerenciar sessões de usuários.

- **Content varies by Cookies, with the exception of a few (Blocklist)**: você pode listar o nome dos cookies que deseja ignorar na definição da *cache key*, considerando todos os cookies com exceção dos listados.

- **Content varies by all Cookies**: além da URL, considera todos os cookies para diferenciar objetos no cache da Azion.

> **Dica**: utilize essa funcionalidade para segmentar seu conteúdo por perfil de usuário, por sessão de navegação, por região de acesso ou conforme sua necessidade de segmentação de conteúdo.

---

## Bypass Cache

Você também pode utilizar a Azion para entregar seu conteúdo dinâmico e personalizado, mesmo quando parte de seu conteúdo não puder ser cacheado na infraestrutura da Azion. Na Azion, você define as regras de cache por *path*. Crie uma regra de **Bypass Cache** para os paths de seu site que não puderem ser cacheados em nossa infraestrutura.

Através do Bypass Cache, você configura o serviço da Azion para repassar todas as requisições a um *path* diretamente para sua origem. Contudo, você contará com importantes otimizações de protocolo para acelerar sua aplicação e conexão *keepalive* entre os edge nodes da Azion e sua origem sempre que possível.

> Consulte o guia [Como configurar a políticas de cache para Edge Application](/pt-br/documentacao/produtos/guias/edge-caching/#bypass-cache) para mais informações sobre o uso de Bypass Cache.

### Diferença entre Bypass Cache e TTL 0

Há uma diferença de comportamento entre **Bypass Cache** e cache com **Maximum time-to-live (TTL)** definido em 0 (zero) segundos.

Tanto o comportamento **Bypass Cache** e o **Maximum TTL** em zero segundos permitem otimizar a entrega de conteúdo e reduzir os tempos de carregamento na origem, mas seus efeitos são levemente diferentes.

Ao usar o comportamento Bypass Cache, todas as solicitações HTTP e HTTPS recebidas pelos edge nodes da Azion serão enviadas para a origem, sem armazenar nenhum conteúdo em cache. Utilize o Bypass Cache se você quiser fornecer conteúdo diferente para cada solicitação de usuário.

No entanto, ao definir o TTL em 0 (zero) segundos, várias solicitações em paralelo aos edge nodes da Azion serão enviadas como uma única solicitação à origem. Nesse caso, os edge nodes da Azion também validam as alterações no conteúdo com sua origem usando o parâmetro *If-Modified-Since*. Se o objeto não tiver sido alterado desde a última solicitação, o conteúdo não precisará ser transferido novamente, o que pode resultar em uma resposta *304 Not Modified* muito mais rápida. Além disso, o TTL máximo de cache em 0 ainda irá gerar um objeto de cache que vive por 999 milissegundos.

> **Dica**: você pode definir o TTL como zero se o conteúdo dinâmico, que varia em um determinado tempo, puder ser entregue de forma idêntica a todos os usuários que fizerem solicitações simultâneas.

---

## Forward Cookies

Se sua origem gerencia cookies de aplicações, talvez você precise da funcionalidade **Forward Cookies**. Por padrão, a Azion filtra o cabeçalho de resposta `Set-Cookie` enviado por sua origem. Se desejar, você pode configurar para que o `Set-Cookie` seja repassado para seus usuários.

Ao utilizar a funcionalidade Forward Cookies, você determina que a Azion encaminhe para seus usuários o cabeçalho `Set-Cookie` proveniente de sua origem, mesmo na situação de conteúdo em cache (*cache hit*). Para evitar que um usuário receba `Set-Cookie` de sessão de outro usuário, você deve listar todos os cookies de sessão (cookies privados) de sua aplicação usando a [Advanced Cache Key](#cache-by-cookie).

> Consulte o guia [Como configurar a políticas de cache para Edge Application](/pt-br/documentacao/produtos/guias/edge-caching/#forward-cookies) para mais informações sobre Forward Cookies.

### JavaScript Cookies

Uma alternativa ao envio do cabeçalho de resposta `Set-Cookie` é a criação de cookies por **JavaScript**, que permite criar, ler e expirar cookies através da propriedade `document.cookie`.

O [JavaScript cookie](https://www.w3schools.com/js/js_cookies.asp) deve possuir o seguinte formato:

```js
document.cookie = “username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/”;
```

Por padrão, a Azion não irá filtrar o Request Header `Cookie`, independentemente de sua configuração de **Forward Cookies**. Sendo assim, JavaScript Cookies poderão ser enviados para sua origem para viabilizar o gerenciamento de sua aplicação.

---

## Suporte a métodos HTTP

Os métodos HTTP `GET`, `HEAD` e `OPTIONS` já têm suporte nativo em qualquer edge application. Ao ativar o **Application Acceleration**, você poderá usar os métodos `POST`, `PUT`, `PATCH` e `DELETE`.
