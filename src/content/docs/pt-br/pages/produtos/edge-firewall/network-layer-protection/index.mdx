---
title: Network Layer Protection
description: O Network Layer Protection da Azion permite criar listas com base na rede (IP/CIDR).
meta_tags: network layer protection, security, edge computing
namespace: documentation_products_network_layer_protection
permalink: /documentacao/produtos/edge-firewall/network-layer-protection/
---

O **Network Layer Protection** da Azion permite criar listas com base na rede IP/CIDR, geolocalização do usuário ou ASN, ou utilizar listas automáticas mantidas e atualizadas pela Azion, como a lista de endereços da rede Tor. Com isso, você pode bloquear, monitorar comportamentos suspeitos ou aplicar penalizações, como por exemplo: limite de acesso.

> É um perímetro de segurança programável que garante proteção no edge para a camada de rede de seu tráfego de entrada e saída.

Se você dispõe de um SIEM ou outras ferramentas de segurança em sua infraestrutura, pode utilizar a _API de Network Lists_ para manter suas _blocklists_ e _allowlists_ sempre atualizadas.


## Como funciona

Ao ativar o módulo _Network Layer Protection_ em _Main Settings_ de uma Rule Set do **Edge Firewall**, serão habilitados na aba _Rules Engine_ da Rule Set as condições - _Criteria_ - e os comportamentos - _Behaviors_.

> As condições - _Criteria_ - disponíveis com a ativação do módulo _Network Layer Protection_ são: _Hostname, Network, Request URI e Scheme_. E os comportamentos - _Behaviors_ - são: _Deny (403 Forbidden), Drop (Close Without Response) e Set Rate Limit_.

Use a condição _Network_ para formar regras com listas baseadas na rede, localização do usuário ou ASN, ou ainda, utilizar listas prontas para uso que são mantidas atualizadas pela própria Azion, como a de endereços de saída da rede Tor _Azion IP Tor Exit Nodes_. Você pode bloquear, monitorar comportamentos suspeitos ou aplicar penalizações de acordo com o comportamento - _Behavior_ - escolhido.

Ative outros módulos na _Rule Set_ para obter inúmeras combinações de condição e comportamento no _Rules Engine_, por exemplo, _Network Layer Protection e Web Application Firewall_ If: **Network** _matches_ My-Country-BlockList _And_ **Header User Agent** - Criteria exclusivo do módulo _Web Application Firewall_ - _does not match_ Googlebot Then: **Deny.** Nesse caso, as requisições originadas em países que estejam na blocklist serão bloqueadas, a menos que o cabeçalho user-agent contenha "Googlebot".

> As condições e comportamentos disponíveis no _Edge Firewall_ dependem dos módulos que você ativar na _Rule Set_. Você terá um maior número de combinações para proteção se o módulo _Web Application Firewall_ também estiver ativado.


## Network Lists

Por meio de **Network Lists** você pode criar, consultar ou atualizar Network Lists utilizadas no _Rules Engine_ do _Edge Firewall_. Adicione e mantenha suas próprias listas em **Network Lists** por meio do Real-Time Manager ou API. Uma mesma Network List pode ser associada a mais de uma Rule ou Rule Set do Edge Firewall. Sempre que a Network List é atualizada, se propagará automaticamente em todas as rules que contiverem na associada. Para saber mais e aprender a utilizar essa funcionalidade, consulte a documentação de [Network Lists](/pt-br/documentacao/produtos/edge-firewall/network-layer-protection/network-lists/).

***

## Origin Shield

Com este add-on do Azion Network Layer Protection, você poderá criar um perímetro de segurança para a sua infraestrutura de origem, seja ela um provedor de _cloud_, _hosting_, seja mesmo o seu próprio _data center_. Com esse serviço, sua origem poderá restringir o acesso apenas de endereços IP’s específicos da nossa rede e bloquear qualquer outro acesso à sua origem.

Nossa lista de IP’s pode sofrer alterações frequentes, mas após atualizá-la só colocaremos os novos servidores em produção para quem utiliza o add-on Origin Shield 7 dias após a publicação da lista. É possível também acompanhar e rastrear as mudanças realizadas na lista por meio do _History_ do Real-Time Manager. Através do Histórico, você pode localizar quais IP's foram adicionados ou deletados da lista.

Nosso processo de "quarentena" permite incluir novos endereços com uma semana de antecedência, ou seja, sempre que um novo endereço entrar na lista, ficará em stand by por 7 dias antes de receber carga, dando a você esse prazo para atualizar suas regras de firewall.

> Todos os usuários com o produto ativado são notificados pelo e-mail cadastrado no RTM quando os endereços são alterados.

**Origin Shield** está disponível através do Real-Time Manager ou pela nossa API. Para saber mais e aprender como utilizar nossa API, consulte a documentação de como [Consultar dados da Network List - Origin Shield](/pt-br/documentacao/produtos/api/v3/network-lists/#consultar-dados-origin-shield).


