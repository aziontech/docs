---
title: API GraphQL
description: A Graphic Query Language (GraphQL) funciona como uma alternativa às APIs REST, permitindo que você receba seus dados de acordo com suas necessidades. A GraphQL traz autonomia para o usuário solicitar os dados que deseja e receber exatamente o que foi solicitado através de uma resposta em JSON.
meta_tags: graphql, api, azion
namespace: documentation_graphql_overview
permalink: /documentacao/produtos/graphql-api/visao-geral/
menu_namespace: graphqlMenu
---

import Button from '~/components/Button.astro'

A **Graphic Query Language (GraphQL)** é uma linguagem criada especificamente para uso com APIs. Ela funciona como uma alternativa às APIs REST, permitindo que você receba seus dados de acordo com suas necessidades. A GraphQL traz autonomia para que o usuário solicite os dados que deseja e receba exatamente o que foi solicitado através de uma resposta em JSON.

A GraphQL busca dados de forma diferente das APIs tradicionais e permite filtrar dados sem precisar buscar quantidades desnecessárias de informações. As respostas precisas que ela fornece também proporcionam um melhor desempenho aos que usam a GraphQL, o que torna seu uso simples. Outra diferença da GraphQL comparada a outras APIs é que ela possui apenas um endpoint.

Você pode utilizar as duas APIs GraphQL da Azion para fazer um logpull de seus dados e aprimorar suas análises através da:

- [API GraphQL do Real-Time Metrics](/pt-br/documentacao/produtos/real-time-metrics/), que fornece métricas agregadas em tempo real.
- [API GraphQL Real-Time Events](/pt-br/documentacao/produtos/real-time-events/), que fornece logs brutos em tempo real.

<Button href="/pt-br/documentacao/produtos/graphql-api-queries/" text="saiba mais sobre dados agregados e brutos"></Button>

Com a API GraphQL do Real-Time Metrics, você pode, por exemplo:

- Investigar de onde requisições que são ameaças de seguranças estão vindo.
- Buscar os IPs com mais requisições.
- Ver os domínios com menos requisições.
- Analisar a quantidade de requisições por método HTTP.
- Encontrar os hosts com mais requisições.

Com a API GraphQL do Real-Time Events, você pode, por exemplo:

- Visualizar os top IPs que geram mais requisições.
- Visualizar as top URIs que recebem mais requisições.
- Visualizar requisições bloqueadas por IP ou por país.
- Visualizar os top user agents.
- Visualizar os top IPs por método de requisição.

Além disso, você não precisa de banco de dados, framework ou linguagem de programação específicos. Você pode usá-la com o código e com os dados que você já utiliza normalmente. A API utiliza queries para acessar seus dados e informações e filtrar o que você precisa.

Mesmo após fazer uma requisição, você pode modificar, deletar ou adicionar mais informações através de simples modificações na sua query.

A seguir, veja o exemplo de uma query:

```graphql
query HttpQuery {
  httpMetrics(
    filter: {
      tsRange: {begin: "2022-03-21T10:10:10", end: "2022-09-23T10:10:10"}
    }
  ) 
  {	
    ts
    geolocCountryName
    geolocRegionName
  }
}
```

E um exemplo da resposta em formato JSON que será recebida:

```json
{
    "data": {
        "httpMetrics": [
            {
                "ts": "2022-10-21T15:00:00Z",
                "geolocCountryName": "Canada",
                "geolocRegionName": "Quebec"
            },
            {
                "ts": "2022-10-21T14:00:00Z",
                "geolocCountryName": "Brazil",
                "geolocRegionName": "Parana"
            }
        ]
    }
}
```

Ao utilizar queries na API GraphQL da Azion, você pode consultar dados *raw* (*brutos*) e *aggregated* (*agregados*).

Se você utilizar dados agregados, a API busca seus dados de acordo com um intervalo pré-definido de *minutos*, *horas* ou *dias*.
