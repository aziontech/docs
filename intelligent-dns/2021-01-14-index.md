---
layout: page-documentation-md
title: Intelligent DNS
description: Intelligent DNS is a domain hosting service that makes up Azion's traffic
  routing solution, the Edge Traffic Router
meta_tags: Intelligent DNS, DNS, routring
namespace: documentation_products_intelligent_dns
permalink: "/documentation/products/intelligent-dns/"
permalink_en: "/documentation/products/intelligent-dns/"
permalink_pt-br: "/documentacao/produtos/intelligent-dns/"
permalink_sp: "/documentacion/productos/intelligent-dns/"

---
# Intelligent **DNS**

[Editar en GitHub <svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" stroke="#F3652B"><path d="M4.81.71H.672v11.43H12.1V8.001" stroke-width=".8"/><path d="M6.87.786h5.155V5.94M6.31 6.5L12.026.786"/></g></svg>](https://github.com/aziontech/docs_en/edit/master/intelligent-dns/2021-01-14-index.md)

**Intelligent DNS de Aziones un servicio de alojamiento de dominios que forma parte de la solución de enrutamiento de tráfico de Azion. Cuando lo usas, tus dominios serán alojados en la infraestructura distribuida de Azion, mediante la utilización de las mismas soluciones de desempeño y seguridad creadas para otros productos Azion, que combinan técnicas para optimizar las solicitudes con protección contra ataques DDoS.

> 1. [¿Qué es un DNS?](#que-es-dns)
> 2. [¿Cómo funciona Intelligent DNS?](#como-funciona)
> 3. [Configurar Intelligent DNS](#práctico)
> 4. [Tipos de entradas compatibles y recomendaciones para cada](#tipos-de-entradas)
> 5. [Reglas para completar valores](#reglas-para-completar)
> 6. [Usar comodines](#comodines)
> 7. [Probar mi zona](#probar-mi-zona)
> 8. [Configurar Intelligent DNS para responder a mis dominios](#como-configurarlo)

---

## 1. ¿Qué es un DNS? (Sistema de Nombres de Dominio) {#que-es-dns}

Como su nombre lo indica, es un sistema de solución de nombres de dominio. Puede traducir el nombre a una dirección IP para que se pueda establecer una conexión con el destino que proporcionará el contenido del sitio web solicitado.

El DNS es el que le permite escribir un nombre de dominio en vez de una serie de números. En otras palabras, el DNS traduce la serie de números (IP) del dominio al que desea acceder en palabras que forman la URL que conoce.

---

## 2. ¿Cómo funciona Intelligent DNS?{#como-funciona}

Está diseñado para aquellos que desean un alto desempeño y alta disponibilidad para su hosting y su dominio. Intelligent DNS es una solución de DNS acreditada y permite a los clientes administrar sus dominios, zonas y registros a través de una interfaz amigable e intuitiva. 

> Puedes crear entradas de tipo ANAME, que te permiten alojar y utilizar dominios simples con otros productos Azion.

---

## 3. Configurar Intelligent DNS{#practico}

---

### Crear una hosting zone (zona de alojamiento)

1. Ve a [Real-Time Manager](https://manager.azion.com/), accede al menú **Products** (Productos) en la esquina superior izquierda y selecciona **Edge Routing** (Enrutamiento de borde)]> **Intelligent DNS**. Verás la interfaz principal donde puedes crear y gestionar sus zonas;

2. Haga clic en el botón **Add Zone** (Agregar zona) y complete los siguientes campos: 

   **Nombre de la zona**: Identificador de la zona recién creada del dominio.Este campo es texto libre. Puedes escribir texto en la forma que más te convenga; 

   **Dominio**: Solo puedes ingresar el nombre de dominio en formato [FQDN](https://pt.wikipedia.org/wiki/FQDN) en este campo.

   Ejemplo: _mydomain.com_;   
   **Activo**: Esta bandera indica si la zona está activa y, por tanto, si el DNS inteligente debe responder a ella o no. Las zonas desactivadas se ignoran en las respuestas de DNS;

3. Has clic en el botón **Save** (Guardar) para finalizar.

### Crear o editar registros vinculados a una hosting zone

Un registro se utiliza para encontrar la dirección IP de una computadora conectada a Internet a partir de un nombre.

1. Ve a [Real-Time Manager](https://manager.azion.com/), accede al menú **Productos** en la esquina superior izquierda y selecciona **Edge Routing** (Enrutamiento de borde) > **DNS inteligente**.

2. Haz clic en la zona que desea editar;

   Verás la interfaz principal donde puedes crear o editar tus zonas. Cuando hagas esto, verás dos pestañas:

   **Main Settings** (Configuración principal): en esta pestaña puedes editar el nombre de la zona, el dominio principal, el estado del servicio DNS y también tendrás acceso a las direcciones de los servidores autorizados de Azion – *Servidores de nombres* que responderán las consultas de su zona.

   **Records** (Registros): en esta pestaña verás una lista de todos los registros que forman parte de esta zona.

3. Haz clic en la pestaña **Records** para crear un nuevo registro o editar uno existente;

4. Para crear un nuevo registro, haz clic en el botón **Add Record** (Agregar registro) y completa los siguientes campos:

   #### Name

   Identificador del registro recién creado.

   Esta descripción es el dominio que deseas crear. Por ejemplo: "ayuda", en “[*help.azion.com*](http://help.azion.com/)”, o luego "administrador" en “[*manager.azion.com*](http://manager.azion.com/)”

   #### Tipo

   Este es el tipo de registro que se está agregando, como los tipos A, AAAA, MX o CNAME, entre otros examples.<br/>[(consulte la sección - Tipos de entradas compatibles y recomendaciones para cada una)](#tipos-de-entradas).

   Consulte las opciones de tipos y la descripción a continuación:

   | Tipo                                                | Descripción                                                  |
   | --------------------------------------------------- | ------------------------------------------------------------ |
   | A - Dirección IPv4                                  | Registro de asignación de direcciones (registro A): también conocido como registro de host DNS, almacena un nombre de host y su dirección IPv4 correspondiente. |
   | AAAA - Dirección IPv6                               | Registro de dirección IP versión 6 (registro AAAA): almacena un nombre de host y su dirección IPv6 correspondiente. |
   | ANAME: asigna un nombre a otro nombre               | El registro ALIAS es un tipo de registro virtual creado para proporcionar un comportamiento similar al CNAME en los dominios ápice. |
   | CAA - Autorización de la Autoridad de Certificación | Un registro de CAA permite al titular de un nombre de dominio DNS especificar una o más Autoridades de certificación (CA) autorizadas para emitir certificados para ese dominio o subdominio. |
   | CNAME - Nombre canónico                             | Registro de nombre canónico (registro CNAME): se puede utilizar para asignar un alias de un nombre de host a otro nombre de host. Cuando un cliente DNS solicita un registro que contiene un CNAME, que indica otro nombre de host, el proceso de resolución de DNS se repite con el nuevo nombre de host. |
   | MX - Intercambio de correo                          | Registro de intercambio de correo (Registro MX): especifica un servidor de correo electrónico SMTP para el dominio, que se utiliza para enrutar los correos electrónicos |
   | NS – Name servers (Servidores de nombres)           | Los registros NS identifican los servidores DNS responsables (autorizados) de una zona. Una zona debe contener un registro NS para cada uno de sus propios servidores DNS (primario y secundario). |
   | PTR: búsqueda inversa de DNS                        | Los registros PTR se utilizan para la búsqueda inversa de DNS (sistema de nombres de dominio). Al usar la dirección IP puede obtener el dominio/nombre del host asociado. Debe existir un registro A para cada registro PTR. El uso de una configuración de DNS inversa para un servidor de correo es una buena solución. |
   | SRV: Ubicación del servidor o servicio              | Un registro de servicio (registro SRV) es una especificación de datos en el sistema de nombres de dominio que define la ubicación, por example: el nombre de host y el número de puerto, de los servidores para servicios específicos. Está definido en RFC 2782 y su código de tipo es 33. |
   | TXT - Texto                                         | Un registro TXT (abreviatura de registro de texto) es un tipo de registro de recursos en el Sistema de nombres de dominio (DNS) que se utiliza para proporcionar la capacidad de asociar texto arbitrario con un host u otro nombre, como información legible por humanos sobre un servidor, red, centro de datos u otra información contable. |

   #### Valor (value)

   Esta es la respuesta de DNS al registro hecho, como una dirección IPv4, por example.<br/>[(consulte la sección - Reglas para completar valores))](#reglas-para-completar)

   #### TTL (seconds):

   Este es el tiempo durante el cual se puede almacenar en caché una respuesta en un servidor de resolución. El Time to live o tiempo de vida (TTL) es un valor en un paquete de Protocolo de Internet (IP) que le dice a un enrutador de red si el paquete ha estado en la red durante demasiado tiempo y debe descartarse.

   #### Política (policy)

   Le permite especificar qué política debe considerar iDNS al resolver las solicitudes respondidas por esta entrada de registro.

   > You can select either **Simple** Policy – to use the standard DNS functionality – or  **Weighted** Policy – to specify the amount of traffic to send to each Record.

   By choosing the **Weighted** Policy, there will be two more fields to be completed, which are:

   **Weight:** you can choose a number between 0 and 255 to specify the weight for each record. When you choose 0, Intelligent DNS stops using this record.

   **Description:** used to differentiate records with the same *Name* and *Type*. 

   > Click  the **Save** button to finish creating your record. 

   From this point on, this set of information will be synchronized with the Intelligent DNS service. Your settings are saved and distributed to the Azion network practically in real time.

   Your domain is now set up and ready to be served by Azion Intelligent DNS. To make sure everything is working well, run some of the tests described in the section  [Testing my zone](#test-my-zone).

---

### Record Policies

While you are adding or modifying a record on Intelligent DNS, you will find the **“Policy“** field. This field is enabled just when you are configuring either A, AAAA, CNAME, ANAME or MX type records. This field lets you to choose between two policies to specify how Intelligent DNS should deal with requests answered by this record. 

#### Simple Policy

By selecting *simple policy*, Intelligent DNS uses the standard DNS records behavior, routing all the traffic to the specified addresses in the **"Value"** field.

#### Weighted Policy

By selecting *weighted policy*, Intelligent DNS allows you to create multiple records with the same *Name* and *Type*, enabling you to specify a Weight that defines how much traffic should be routed to each record. This configuration allows you to load balance your applications or even gradually test new configurations.

By selecting *weighted policy*, different fields options are displayed:

| Field                      | Description                                                  |
| -------------------------- | ------------------------------------------------------------ |
| Weight<br>**required*      | You need to specify a weight value between 0 and 255. Higher values increases the chances of a specific record to be used. Setting 0 disables the record. |
| Description<br>**optional* | You may add a description up to 45 characters to distinguish between records with same *Name* and *Type*. <br/>Example: `Florida Load Balancer` |

Given a set of Weighted Records, with same *Name* and *Type*, the chances of a specific record to be chosen by Intelligent DNS is defined by the following formula:

`Weight of the record / Sum of all Weights`

---

## 4. Types of supported entries and the respective recommendations that Intelligent DNS follows {#types-of-entries}

### To provide record creation Intelligent DNS supports the following types of DNS entries.

| Type | Referência |
|------|------------|
| A | [RFC1035](https://tools.ietf.org/html/rfc1035) |
| AAAA | [RFC3596](https://tools.ietf.org/html/rfc3596) |
| ANAME | [draft-ietf-dnsop-aname-04](https://tools.ietf.org/html/draft-ietf-dnsop-aname-04) |
| CAA | [RFC8659](https://tools.ietf.org/html/rfc8659) |
| CNAME | [RFC1035](https://tools.ietf.org/html/rfc1035) |
| MX | [RFC1035](https://tools.ietf.org/html/rfc1035) e [RFC7505](https://tools.ietf.org/html/rfc7505) |
| NS | [RFC2782](https://tools.ietf.org/html/rfc2782) |
| PTR | [RFC1035](https://tools.ietf.org/html/rfc1035) |
| SRV | [RFC2782](https://tools.ietf.org/html/rfc2782) |
| TXT | [RFC1035](https://tools.ietf.org/html/rfc1035) e [RFC1464](https://tools.ietf.org/html/rfc1464) |


## 5. Rules for filling in values {#rules-for-filling}

| Type | Restriction rule | Example |
|------|--------------------|---------|
| A | [It must be in IPv4 format](https://pt.wikipedia.org/wiki/IPv4) <br><br>Maximum of 10 IP addresses (one per line).<br><br>Only valid IPv4 addresses are accepted as a response. | Name of zone: azion.com<br><br>Name of record: @ (or blank)<br><br>Value(s) of response:<br><br> 192.209.210.67<br><br> 198.199.105.93 |
| AAAA | [It must be in IPv6 format](https://pt.wikipedia.org/wiki/IPv6) <br /><br />Maximum of 10 IP addresses (one per line).<br/><br>Only valid IPv6 addresses are accepted as a response. | Name of zone: azion.com<br><br>Name of record: www<br><br>Value(s) of response:<br><br> 2800:3f0:4001:815::2004 |
| ANAME | [It must be in FQDN format](https://pt.wikipedia.org/wiki/FQDN)<br><br>Only one domain for each ANAME type record.<br><br>Only the domains below from 'azioncdn.net', 'azionedge.net' e 'azionedge.com' are accepted.<br><br>It can coexist with records of the same name but of different types (MX, TXT etc.) | Name of zone: azion.com<br><br>Name of record: @<br><br>Value of response:<br><br> 32082s.ha.azioncdn.net |
| CAA | The value of the response must follow the format [FLAG] [TAG] “[VALUE]”.<br />Example: 0 issue "ca.example.net".<br/><br />It will not be possible to register a CAA type record, when the zone already has a CNAME type record.<br /><br />N.B. the tool [SSL mate](https://sslmate.com/caa/) can help when creating and querying. | Flag:  <br>If the flag has a value of 0 (zero), all flags will be switched off. If the flag has a value of 1, the 0 bit (Issuer Critical Flag) is on, i.e. A CA must not send certificates for any FQDN, if the relevant record for that FQDN contains a CAA.<br/><br/>Tag: <br>The tags must be in lower case and must follow the naming convention in the RFC, Example: *issue*, *issuewild*, *iodef*.<br/> <br>Issue: it indicates that the CA of the ACM specified in the *value* field can send a certificate to your domain or sub-domain.<br/>Issuewild: it indicates that the CA of the ACM specified in the *value* field can send a wildcard certificate to your domain or sub-domain.<br/> <br>iodef: it indicates that should the CA receive an invalid request for a certificate, it should send a notification to the domain owner. Use url (http/https) or mailto, e.g. “mailto:email@domain.com”, “https://url” and "http://url".<br /><br />Value:<br />The value must always be between inverted commas, e.g. “ca.example.com”, and the content will depend on the tag you use.<br />Issue: url or a sequence, e.g. “ca.example.net; account=123456” or “ca.example.com”<br />Issuewild: must use a domain with a wildcard e.g. “*.example.com”<br />iodef: a url callback or an email address, e.g. “mailto:email@domain”, “https://example.com/callback” and “http://example.com/callback”. |
| CNAME | [It must be in FQDN format](https://pt.wikipedia.org/wiki/FQDN) <br><br>Only point it to another domain name, never an IP address.<br><br>It can’t be added at the level of the root domain.<br><br>Only one domain is allowed for each CNAME type record.<br><br>A defined host name in a CNAME record must not include records from other types of resources (MX, A, etc.)<br><br>CNAME records can point to other CNAME records, but this isn’t considered good practice, as it is inefficient.<br><br>If a CNAME record is pointing to a record in the same zone, Intelligent DNS will respond to all of them in just one query. |  |
| MX | It must be in the format [PRIORITY] [ADDRESS].<br><br>Maximum of 10 IP addresses (one per line). | Name of zone: azion.com<br><br>Name of record: mail<br><br>Value(s) of response:<br><br> 10 mailserver.example.com<br><br> 20 mailserver2.example.com |
| NS | [It must be in FQDN format](https://pt.wikipedia.org/wiki/FQDN) or an IP address.<br><br>Maximum of 10 addresses (one per line).<br><br>An NS cannot be configured by the main domain of the zone (naked domain).<br><br>It must point to the servers that have authority over that record. | Name of zone: azion.com<br><br>Name of records: ns<br><br>Value(s) of response:<br><br> ns1.aziondns.net<br><br> ns2.aziondns.net |
| PTR | [Reverse zones lined to IPv6 addresses follow other rules. See here for more information.](https://pt.wikipedia.org/wiki/Reverse_DNS_lookup) | 1- Create a new zone, add the following information for DOMAIN:<br> 0.168.192.in-addr.arpa<br><br> 2 - After creating the zone, you must create a type PTR record associated with it, with the following settings:<br><br>Name of record: 1<br><br>Value of response: www.exemplo.com |
| SRV | The record name must have the following format: '_service._protocol.name'. Example: "_ldap._tcp.azionsrv".<br><br>The response values must be in the format [priority] [weight] [port] [target].<br><br>Maximum of 10 records (one per line).<br><br>It must point to the host name that has an A or AAAA record.<br><br>Note: You must pay special attention to this, because Intelligent DNS will not validate this automatically. | Name of zone: azion.com<br><br>Name of record: _ldap._tcp.azionsrv<br><br>Value(s) of response:<br><br> 0 60 5060 bigbox.example.com |
| TXT | Limited to 100 characters.<br><br>Text that is separated by ENTER is considered as differente responses by Intelligent DNS | Name of zone: azion.com<br><br>Name of record: txt<br><br>Value(s) of response:<br><br> This domain name is reserved for use in documentation<br><br> "printer=lpr5"<br><br> "favorite drink=orange juice" |

## 6. Using wildcards {#wildcards}

A wildcard record is a record that responds to DNS requests by domains that you haven’t defined yet. You can create them for any type, inserting an asterisk (*)  in the record name. For example, imagine that you have the following configuration for a zone whose domain is “_example.com_”:

| Name | Type | Value |
|------|------|-------|
| www | A | 192.168.0.1<br><br> 192.168.0.2<br><br> 192.168.0.3 |
| * | A | 1.1.1.1 |
| *.wildcard | A | 2.2.2.2  |

#### This means that:

*   if the query is made by *www.example.com* the response will consist of 3 IP addresses: 192.168.0.1, 192.168.0.2 and 192.168.0. N.B. It isn’t a wildcard, but it is given priority for the response because it correctly meets the record that is queried;
*   if the query is made by *ghost.example.com* the response will be according to the wildcard it found. I.e. The response will be: 1.1.1.1;
*   If the query is made by *another.wildcard.example.com* the response will be according to the wildcard it found this time, i.e. The response will be: 2.2.2.2;
*   if the query is made by *wrong.record.example.com* the response will have no value, because there is nothing that corresponds to this structure.

### Restrictions on the use of wildcards

Only the left-most asterisk followed by a dot will be considered a wildcard. All other asterisks, if any, will be considered as valid characters.

> Asterisks located further to the left that are not followed by a dot will not be considered wildcards.

It is not allowed to use wildcard characters in SRV type records because it requires a standard format in its name.

---

## 7. Testing my zone {#test-my-zone}

If you have already set up Intelligent DNS as you want and you now want to test it to see if it is processing your information properly, you can test it using the following tools:

### DIG

The “*dig*” - *domain information groper* - is a network administration command-line tool for querying the Domain Name System (DNS). It is useful for network troubleshooting and for educational purposes. It can operate based on command line option and flag arguments, or in batch mode by reading requests from an operating system file. When a specific name server is not specified in the command invocation, it uses the operating system's default resolver, usually configured in the file 'resolv.conf. Without any arguments it queries the DNS root zone.

It is a component of the domain name server software suite *BIND* and, in practice, replaces older tools, such as “*nslookup*” and “*host*”. However, the older tools are still used in complementary way.

To test Intelligent DNS, you should use one of the *nameservers* listed on the *Main Settings* tab of your Azion registered zone.

For example, imagine you have the following settings:

| Name | Type | Value | TTL |
|------|------|-------|-----|
| www | A | 192.168.0.1<br><br> 192.168.0.2<br><br> 192.168.0.3 | 3600 |

To check how Intelligent DNS handles a type "A" query, registered to the “www” record, type the following command:

~~~
  > dig A www.example.com @ns1.aziondns.net 
~~~

The response to this will be:

~~~
 ; <<>> DiG 9.10.6 <<>> A www.example.com @ns1.aziondns.net ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 46329 ;; flags: qr aa rd; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;www.example.com. IN A ;; ANSWER SECTION: www.example.com. 3600 IN A 192.168.0.1 www.example.com. 3600 IN A 192.168.0.2 www.example.com. 3600 IN A 192.168.0.3 ;; Query time: 22 msec ;; SERVER: 179.191.160.2#53(179.191.160.2) ;; WHEN: Thu Sep 12 13:13:14 -03 2019 ;; MSG SIZE rcvd: 137
~~~

### HOST

*Host* queries the DNS, converting domain names into IP addresses and vice-versa. If no argument or option is provided, the host prints a brief summary of the command line options and arguments.

For example, imagine you have the following settings:

| Name | Type | Value | TTL |
|------|------|-------|-----|
| www | A | 192.168.0.1<br><br> 192.168.0.2<br><br> 192.168.0.3 | 3600 |

To check how Intelligent DNS handles a type "A query, registered to the “www” record, type the 

~~~
> host www.example.com ns1.aziondns.net
~~~

The response to this will be:

~~~
Using domain server: Name: ns1.aziondns.net Address: 179.191.160.2#53 Aliases: www.example.com has address 192.168.0.1 www.example.com has address 192.168.0.2 www.example.com has address 192.168.0.3
~~~

### NSLOOKUP

*Nslookup* is a tool, common to both Windows and Linux, used to obtain information about DNS records for a particular domain, host or IP.

For example, imagine you have the following settings:

| Name | Type | Value | TTL |
|------|------|-------|-----|
| www | A | 192.168.0.1<br><br> 192.168.0.2<br><br> 192.168.0.3 | 3600 |

To check how Intelligent DNS handles a type "A" query, registered to the “www” record, type the following command:

~~~
 > nslookup www.example.com ns1.aziondns.net
~~~

The response to this will be:

~~~
 Server: ns1.aziondns.net Address: 179.191.160.2#53 Name: www.example.com Address: 192.168.0.1 Name: www.example.com Address: 192.168.0.2 Name: www.example.com Address: 192.168.0.3
~~~

---

## 8. Configuring Intelligent DNS to respond to my domains {#how-configure-it}

In order for Intelligent DNS to become the authority over your zones, you must point it at your DNS registry. (registro.br, GoDaddy, AWS Registrar, etc)

To point to your registration DNS, use one of the *nameservers* listed in the *Main Settings* tab of your Azion registered zones.

> It is important to verify that all your records are properly registered and tested at Intelligent DNS before making this appointment. Otherwise you run the risk of having your service unavailable.

---

Didn't find what you were looking for? [Open a support ticket.](https://tickets.azion.com/)
